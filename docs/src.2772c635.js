parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"ceGV":[function(require,module,exports) {
var t=function(t,o){this.stringNumber=t,this.openFrequency=o,this.alpha=Math.pow(2,1/12),this.logalpha=Math.log(2)/12,this.logopenFreq=Math.log(o)};t.prototype.getFret=function(t){var o=(Math.log(t)-this.logopenFreq)/this.logalpha;return Math.round(o)},module.exports={GuitarString:t};
},{}],"iCqS":[function(require,module,exports) {
var t=function(t){if(this.semitone=69,this.middleA=440,this.name="rest",this.value=0,this.octave=0,this.frequency=0,this.standard=0,this.type="tone",this.string=null,this.frets={},this.duration=null,t){var e=this.getNote(t);this.name=this.getNoteString(e),this.value=e,this.octave=parseInt(e/12),this.frequency=t,this.standard=this.getStandardFrequency(e)}};t.prototype.getNote=function(t){var e=Math.log(t/this.middleA)/Math.log(2)*12;return Math.round(e)+this.semitone},t.prototype.getNoteString=function(t){return["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"][t%12]},t.prototype.getStandardFrequency=function(t){return this.middleA*Math.pow(2,(t-this.semitone)/12)},t.prototype.getCents=function(t,e){return Math.floor(1200*Math.log(t/this.getStandardFrequency(e))/Math.log(2))},t.prototype.vextab=function(){if(null==this.string||0==Object.keys(this.frets).length)return"".concat(this.name,"/").concat(this.octave);var t=this.string+1,e=this.frets["".concat(this.string)];return"".concat(e,"/").concat(t)},module.exports={Note:t};
},{}],"ENTL":[function(require,module,exports) {
var t=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.header=t,this.opts=n};t.prototype.tab=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(0==t.length)return this.header;n<0&&(n=0),(o=null==o?t.length:o)>t.length&&(o=t.length);var r=this.opts.stafflength||24,a=[],e=[],s=0;a.push(e),addDuration=function(t,n){n.duration&&t.push(":".concat(n.duration))};for(var i=n;i<o;i++){var h=t[i];if(h instanceof Array){addDuration(e,h[0]);var u="("+h.map(function(t){return t.vextab()}).join(".")+")";e.push(u),s++}else addDuration(e,h),e.push(h.vextab()),s++;this.opts.cursor==i&&this.opts.cursorIndicator&&e.push(this.opts.cursorIndicator);var c=i==t.length-1;s>=r&&!c&&(e=[],s=0,a.push(e))}var p=this.header||"";return this.opts.vextabopts&&(p="".concat(p," ").concat(this.opts.vextabopts)),""!==p&&t.length>0&&(p+="\nnotes "),a.map(function(t){return"".concat(p).concat(t.join(" "))}).join("\n\n")},module.exports={VextabScribe:t};
},{}],"QdeU":[function(require,module,exports) {
function t(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);n&&(e=e.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,e)}return r}function n(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?t(Object(o),!0).forEach(function(t){r(n,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(o,t))})}return n}function r(t,n,r){return n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function e(t,n){return s(t)||i(t,n)||l(t,n)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(t,n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],e=!0,o=!1,i=void 0;try{for(var s,a=t[Symbol.iterator]();!(e=(s=a.next()).done)&&(r.push(s.value),!n||r.length!==n);e=!0);}catch(c){o=!0,i=c}finally{try{e||null==a.return||a.return()}finally{if(o)throw i}}return r}}function s(t){if(Array.isArray(t))return t}function a(t){return h(t)||u(t)||l(t)||c()}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t,n){if(t){if("string"==typeof t)return d(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(t,n):void 0}}function u(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function h(t){if(Array.isArray(t))return d(t)}function d(t,n){(null==n||n>t.length)&&(n=t.length);for(var r=0,e=new Array(n);r<n;r++)e[r]=t[r];return e}var f=require("./guitarstring.js"),p=f.GuitarString,g=require("./note.js"),y=g.Note,b=require("./vextabscribe.js"),v=b.VextabScribe,m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.configure(t),this.noteDurations=["w","h","q","8","16","32"];this.strings=[329.63,246.94,196,146.83,110,82.41].map(function(t,n){return new p(n,t)}),this.line=[],this.cursorIndicator=null,this.cursor=null};m.prototype.configure=function(t){this.options=t,this.options.min=this.options.min||0,this.options.max=this.options.max||12},m.prototype.add_frequency=function(t){this.addNote(new y(t))},m.prototype.buildNote=function(t){var n=new y(t);return this.addFrets(n),n},m.prototype.addFrets=function(t){var n=this;t.frets=this.strings.reduce(function(r,e){var o=e.getFret(t.frequency);return o>=n.options.min&&o<=n.options.max&&(r[e.stringNumber]=o),r},{})},m.prototype.addNote=function(t){0!=t.frequency&&(0==this.line.length&&(t.duration="q"),this.addFrets(t),this.line.push(t),this.cursor=this.line.length-1)},m.prototype.toggleChord=function(t){var n=this.line[t];if(n instanceof Array){var r;console.log("exploding chord");return this.line.splice(t,1),void(r=this.line).splice.apply(r,[t,0].concat(a(n)))}if(t<=0)throw"first note cannot be a chord tone";if(null==n.string)throw"must assign string";var e=this.line[t-1];if(e instanceof Array){var o=e.map(function(t){return t.string});if(console.log("Chord strings: ".concat(o.join(", "))),console.log("check chord uses ".concat(n.string)),o.includes(n.string))throw"string ".concat(n.string+1," already used");console.log("Adding to chord"),this.line[t-1].push(n),this.line.splice(t,1)}else{if(console.log("Adding to prior note"),null==e.string)throw"prior note must have string assigned";if(e.string==n.string)throw"string ".concat(n.string+1," already used");console.log("starting chord"),this.line[t-1]=[e,n],console.log("removing e from the line"),this.line.splice(t,1)}n.type="chord"},m.prototype.setDuration=function(t,n){var r=this.line[t];r instanceof Array?r[0].duration=n:r.duration=n},m.prototype.deleteAt=function(t){var n=this.line.length;if(t<0||t>n)throw"Bounds exception, get ".concat(t," but should be in [0, ").concat(n,")");var r=e(this.line.flat(),2),o=r[0],i=r[1];o&&i&&(i.duration=i.duration||o.duration),this.line.splice(t,1)},m.prototype.noteAt=function(t){var n=this.line.length;if(t<0||t>n)throw"Bounds exception, get ".concat(t," but should be in [0, ").concat(n,")");var r=this.line[t];return r instanceof Array?r[0]:r},m.prototype.vextab=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=n(n({},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),{},{cursor:this.cursor,cursorIndicator:this.cursorIndicator,vextabopts:this.options.vextabopts});return new v(t,r).tab(this.line)},m.prototype.editorWindow=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r=Math.min(Math.max(0,t),this.line.length-1),e={line:[],before:Math.max(0,r-n),after:Math.max(this.line.length-(r+1)-n,0),startIndex:0,endIndex:0};if(0==this.line.length)return e;var o=Math.max(r-n,0),i=Math.min(r+n+1,this.line.length);return e.startIndex=o,e.endIndex=i,e.line=this.line.slice(o,i),e},m.prototype.editorWindowIndices=function(t,n,r){var e=n-Math.floor(r/2);e<0&&(e=0);var o=e+r;return o>t&&(o=t),o-r<e&&(e=o-r),e<0&&(e=0),{start:e,end:o}},module.exports={Application:m};
},{"./guitarstring.js":"ceGV","./note.js":"iCqS","./vextabscribe.js":"ENTL"}],"rDCW":[function(require,module,exports) {

},{}],"pBGv":[function(require,module,exports) {

var t,e,n=module.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}function u(t){if(e===clearTimeout)return clearTimeout(t);if((e===o||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(t);try{return e(t)}catch(n){try{return e.call(null,t)}catch(n){return e.call(this,t)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:r}catch(n){t=r}try{e="function"==typeof clearTimeout?clearTimeout:o}catch(n){e=o}}();var c,s=[],l=!1,a=-1;function f(){l&&c&&(l=!1,c.length?s=c.concat(s):a=-1,s.length&&h())}function h(){if(!l){var t=i(f);l=!0;for(var e=s.length;e;){for(c=s,s=[];++a<e;)c&&c[a].run();a=-1,e=s.length}c=null,l=!1,u(t)}}function m(t,e){this.fun=t,this.array=e}function p(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new m(t,e)),1!==s.length||l||i(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0};
},{}],"UUq2":[function(require,module,exports) {
var process = require("process");
var r=require("process");function t(r,t){for(var e=0,n=r.length-1;n>=0;n--){var o=r[n];"."===o?r.splice(n,1):".."===o?(r.splice(n,1),e++):e&&(r.splice(n,1),e--)}if(t)for(;e--;e)r.unshift("..");return r}function e(r){"string"!=typeof r&&(r+="");var t,e=0,n=-1,o=!0;for(t=r.length-1;t>=0;--t)if(47===r.charCodeAt(t)){if(!o){e=t+1;break}}else-1===n&&(o=!1,n=t+1);return-1===n?"":r.slice(e,n)}function n(r,t){if(r.filter)return r.filter(t);for(var e=[],n=0;n<r.length;n++)t(r[n],n,r)&&e.push(r[n]);return e}exports.resolve=function(){for(var e="",o=!1,s=arguments.length-1;s>=-1&&!o;s--){var i=s>=0?arguments[s]:r.cwd();if("string"!=typeof i)throw new TypeError("Arguments to path.resolve must be strings");i&&(e=i+"/"+e,o="/"===i.charAt(0))}return(o?"/":"")+(e=t(n(e.split("/"),function(r){return!!r}),!o).join("/"))||"."},exports.normalize=function(r){var e=exports.isAbsolute(r),s="/"===o(r,-1);return(r=t(n(r.split("/"),function(r){return!!r}),!e).join("/"))||e||(r="."),r&&s&&(r+="/"),(e?"/":"")+r},exports.isAbsolute=function(r){return"/"===r.charAt(0)},exports.join=function(){var r=Array.prototype.slice.call(arguments,0);return exports.normalize(n(r,function(r,t){if("string"!=typeof r)throw new TypeError("Arguments to path.join must be strings");return r}).join("/"))},exports.relative=function(r,t){function e(r){for(var t=0;t<r.length&&""===r[t];t++);for(var e=r.length-1;e>=0&&""===r[e];e--);return t>e?[]:r.slice(t,e-t+1)}r=exports.resolve(r).substr(1),t=exports.resolve(t).substr(1);for(var n=e(r.split("/")),o=e(t.split("/")),s=Math.min(n.length,o.length),i=s,u=0;u<s;u++)if(n[u]!==o[u]){i=u;break}var f=[];for(u=i;u<n.length;u++)f.push("..");return(f=f.concat(o.slice(i))).join("/")},exports.sep="/",exports.delimiter=":",exports.dirname=function(r){if("string"!=typeof r&&(r+=""),0===r.length)return".";for(var t=r.charCodeAt(0),e=47===t,n=-1,o=!0,s=r.length-1;s>=1;--s)if(47===(t=r.charCodeAt(s))){if(!o){n=s;break}}else o=!1;return-1===n?e?"/":".":e&&1===n?"/":r.slice(0,n)},exports.basename=function(r,t){var n=e(r);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},exports.extname=function(r){"string"!=typeof r&&(r+="");for(var t=-1,e=0,n=-1,o=!0,s=0,i=r.length-1;i>=0;--i){var u=r.charCodeAt(i);if(47!==u)-1===n&&(o=!1,n=i+1),46===u?-1===t?t=i:1!==s&&(s=1):-1!==t&&(s=-1);else if(!o){e=i+1;break}}return-1===t||-1===n||0===s||1===s&&t===n-1&&t===e+1?"":r.slice(t,n)};var o="b"==="ab".substr(-1)?function(r,t,e){return r.substr(t,e)}:function(r,t,e){return t<0&&(t=r.length+t),r.substr(t,e)};
},{"process":"pBGv"}],"Z5kN":[function(require,module,exports) {
var process = require("process");
var __dirname = "/Users/jeff/Documents/Projects/tabbyhack/src/js";
var define;
var n,e=require("process"),t="/Users/jeff/Documents/Projects/tabbyhack/src/js";function r(n){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}var i=function(n){var i;n=n||{},i||(i=void 0!==n?n:{});var o,a={};for(o in i)i.hasOwnProperty(o)&&(a[o]=i[o]);i.arguments=[],i.thisProgram="./this.program",i.quit=function(n,e){throw e},i.preRun=[],i.postRun=[];var u,s,f=!1,c=!1;f="object"===("undefined"==typeof window?"undefined":r(window)),c="function"==typeof importScripts,u="object"===(void 0===e?"undefined":r(e))&&"function"==typeof require&&!f&&!c,s=!f&&!u&&!c;var l,p,d="";function y(n){return i.locateFile?i.locateFile(n,d):d+n}if(u)d=t+"/",i.read=function(n,e){return l||(l=require("fs")),p||(p=require("path")),n=p.normalize(n),n=l.readFileSync(n),e?n:n.toString()},i.readBinary=function(n){return(n=i.read(n,!0)).buffer||(n=new Uint8Array(n)),w(n.buffer),n},1<e.argv.length&&(i.thisProgram=e.argv[1].replace(/\\/g,"/")),i.arguments=e.argv.slice(2),e.on("uncaughtException",function(n){throw n}),e.on("unhandledRejection",function(){e.exit(1)}),i.quit=function(n){e.exit(n)},i.inspect=function(){return"[Emscripten Module object]"};else if(s)"undefined"!=typeof read&&(i.read=function(n){return read(n)}),i.readBinary=function(n){return"function"==typeof readbuffer?new Uint8Array(readbuffer(n)):(w("object"===r(n=read(n,"binary"))),n)},"undefined"!=typeof scriptArgs?i.arguments=scriptArgs:void 0!==arguments&&(i.arguments=arguments),"function"==typeof quit&&(i.quit=function(n){quit(n)});else if(f||c){if(f){var h=this._currentScript||document.currentScript;0!==h.src.indexOf("blob:")&&(d=h.src.split("/").slice(0,-1).join("/")+"/")}else c&&(d=self.location.href.split("/").slice(0,-1).join("/")+"/");i.read=function(n){var e=new XMLHttpRequest;return e.open("GET",n,!1),e.send(null),e.responseText},c&&(i.readBinary=function(n){var e=new XMLHttpRequest;return e.open("GET",n,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),i.readAsync=function(n,e,t){var r=new XMLHttpRequest;r.open("GET",n,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?e(r.response):t()},r.onerror=t,r.send(null)},i.setWindowTitle=function(n){document.title=n}}var m=i.print||("undefined"!=typeof console?console.log.bind(console):"undefined"!=typeof print?print:null),v=i.printErr||("undefined"!=typeof printErr?printErr:"undefined"!=typeof console&&console.warn.bind(console)||m);for(o in a)a.hasOwnProperty(o)&&(i[o]=a[o]);function _(n){var e;return e||(e=16),Math.ceil(n/e)*e}a=void 0;var b={"f64-rem":function(n,e){return n%e},debugger:function(){}},g=0;function w(n,e){n||se("Assertion failed: "+e)}var A,T,C,O,W,P,S,E,j,I,B,R,F,L,M="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function k(){i.HEAP8=T=new Int8Array(A),i.HEAP16=O=new Int16Array(A),i.HEAP32=P=new Int32Array(A),i.HEAPU8=C=new Uint8Array(A),i.HEAPU16=W=new Uint16Array(A),i.HEAPU32=S=new Uint32Array(A),i.HEAPF32=E=new Float32Array(A),i.HEAPF64=j=new Float64Array(A)}function U(){se("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value "+N+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which allows increasing the size at runtime, or (3) if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ")}"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le"),I=0;var x=i.TOTAL_STACK||5242880,N=i.TOTAL_MEMORY||16777216;function D(n){for(;0<n.length;){var e=n.shift();if("function"==typeof e)e();else{var t=e.B;"number"==typeof t?void 0===e.F?i.dynCall_v(t):i.dynCall_vi(t,e.F):t(void 0===e.F?null:e.F)}}}N<x&&v("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+N+"! (TOTAL_STACK="+x+")"),i.buffer?A=i.buffer:("object"===("undefined"==typeof WebAssembly?"undefined":r(WebAssembly))&&"function"==typeof WebAssembly.Memory?(i.wasmMemory=new WebAssembly.Memory({initial:N/65536,maximum:N/65536}),A=i.wasmMemory.buffer):A=new ArrayBuffer(N),i.buffer=A),k();var G=[],H=[],q=[],z=[],V=!1;function K(){var n=i.preRun.shift();G.unshift(n)}var X=Math.cos,Y=Math.sin,J=0,Z=null,$=null;function Q(n){return String.prototype.startsWith?n.startsWith("data:application/octet-stream;base64,"):0===n.indexOf("data:application/octet-stream;base64,")}i.preloadedImages={},i.preloadedAudios={},function(){function n(){try{if(i.wasmBinary)return new Uint8Array(i.wasmBinary);if(i.readBinary)return i.readBinary(a);throw"both async and sync fetching of the wasm failed"}catch(n){se(n)}}function e(){return i.wasmBinary||!f&&!c||"function"!=typeof fetch?new Promise(function(e){e(n())}):fetch(a,{credentials:"same-origin"}).then(function(n){if(!n.ok)throw"failed to load wasm binary file at '"+a+"'";return n.arrayBuffer()}).catch(function(){return n()})}function t(n){function t(n){if((l=n.exports).memory){n=l.memory;var e=i.buffer;n.byteLength<e.byteLength&&v("the new buffer in mergeMemory is smaller than the previous one. in native wasm, we should grow memory here"),e=new Int8Array(e),new Int8Array(n).set(e),i.buffer=A=n,k()}i.asm=l,i.usingWasm=!0,J--,i.monitorRunDependencies&&i.monitorRunDependencies(J),0==J&&(null!==Z&&(clearInterval(Z),Z=null),$&&(n=$,$=null,n()))}function o(n){t(n.instance)}function u(n){e().then(function(n){return WebAssembly.instantiate(n,s)}).then(n).catch(function(n){v("failed to asynchronously prepare wasm: "+n),se(n)})}if("object"!==("undefined"==typeof WebAssembly?"undefined":r(WebAssembly)))return v("no native wasm support detected"),!1;if(!(i.wasmMemory instanceof WebAssembly.Memory))return v("no native wasm Memory in use"),!1;if(n.memory=i.wasmMemory,s.global={NaN:NaN,Infinity:1/0},s["global.Math"]=Math,s.env=n,J++,i.monitorRunDependencies&&i.monitorRunDependencies(J),i.instantiateWasm)try{return i.instantiateWasm(s,t)}catch(f){return v("Module.instantiateWasm callback failed with error: "+f),!1}return i.wasmBinary||"function"!=typeof WebAssembly.instantiateStreaming||Q(a)||"function"!=typeof fetch?u(o):WebAssembly.instantiateStreaming(fetch(a,{credentials:"same-origin"}),s).then(o).catch(function(n){v("wasm streaming compile failed: "+n),v("falling back to ArrayBuffer instantiation"),u(o)}),{}}var o="aubio.wast",a="aubio.wasm",u="aubio.temp.asm.js";Q(o)||(o=y(o)),Q(a)||(a=y(a)),Q(u)||(u=y(u));var s={global:null,env:null,asm2wasm:b,parent:i},l=null;i.asmPreload=i.asm;var p=i.reallocBuffer;i.reallocBuffer=function(n){if("asmjs"===d)var e=p(n);else n:{var t=i.usingWasm?65536:16777216;if(0<n%t&&(n+=t-n%t),t=i.buffer.byteLength,i.usingWasm)try{e=-1!==i.wasmMemory.grow((n-t)/65536)?i.buffer=i.wasmMemory.buffer:null;break n}catch(r){e=null;break n}e=void 0}return e};var d="";i.asm=function(n,e){if(!e.table){void 0===(n=i.wasmTableSize)&&(n=1024);var o=i.wasmMaxTableSize;e.table="object"===("undefined"==typeof WebAssembly?"undefined":r(WebAssembly))&&"function"==typeof WebAssembly.Table?void 0!==o?new WebAssembly.Table({initial:n,maximum:o,element:"anyfunc"}):new WebAssembly.Table({initial:n,element:"anyfunc"}):Array(n),i.wasmTable=e.table}return e.memoryBase||(e.memoryBase=i.STATIC_BASE),e.tableBase||(e.tableBase=0),w(e=t(e),"no binaryen method succeeded."),e}}(),I=10336,H.push({B:function(){ee()}},{B:function(){re()}},{B:function(){te()}},{B:function(){ne()}}),i.STATIC_BASE=1024,i.STATIC_BUMP=9312,I+=16;var nn=0;function en(){return P[(nn+=4)-4>>2]}var tn={};function rn(n){switch(n){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+n)}}var on=void 0;function an(n){for(var e="";C[n];)e+=on[C[n++]];return e}var un={},sn={},fn={};function cn(n){if(void 0===n)return"_unknown";var e=(n=n.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return 48<=e&&57>=e?"_"+n:n}function ln(n,e){return n=cn(n),new Function("body","return function "+n+'() {\n    "use strict";    return body.apply(this, arguments);\n};\n')(e)}function pn(n){var e=Error,t=ln(n,function(e){this.name=n,this.message=e,void 0!==(e=Error(e).stack)&&(this.stack=this.toString()+"\n"+e.replace(/^Error(:[^\n]*)?\n/,""))});return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},t}var dn=void 0;function yn(n){throw new dn(n)}var hn=void 0;function mn(n){throw new hn(n)}function vn(n,e,t){function r(e){(e=t(e)).length!==n.length&&mn("Mismatched type converter count");for(var r=0;r<n.length;++r)_n(n[r],e[r])}n.forEach(function(n){fn[n]=e});var i=Array(e.length),o=[],a=0;e.forEach(function(n,e){sn.hasOwnProperty(n)?i[e]=sn[n]:(o.push(n),un.hasOwnProperty(n)||(un[n]=[]),un[n].push(function(){i[e]=sn[n],++a===o.length&&r(i)}))}),0===o.length&&r(i)}function _n(n,e,t){if(t=t||{},!("argPackAdvance"in e))throw new TypeError("registerType registeredInstance requires argPackAdvance");var r=e.name;if(n||yn('type "'+r+'" must have a positive integer typeid pointer'),sn.hasOwnProperty(n)){if(t.X)return;yn("Cannot register type '"+r+"' twice")}sn[n]=e,delete fn[n],un.hasOwnProperty(n)&&(e=un[n],delete un[n],e.forEach(function(n){n()}))}function bn(n){yn(n.a.f.b.name+" instance already deleted")}var gn=void 0,wn=[];function An(){for(;wn.length;){var n=wn.pop();n.a.s=!1,n.delete()}}function Tn(){}var Cn={};function On(n,e,t){if(void 0===n[e].j){var r=n[e];n[e]=function(){return n[e].j.hasOwnProperty(arguments.length)||yn("Function '"+t+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+n[e].j+")!"),n[e].j[arguments.length].apply(this,arguments)},n[e].j=[],n[e].j[r.A]=r}}function Wn(n,e,t,r,i,o,a,u){this.name=n,this.constructor=e,this.u=t,this.o=r,this.i=i,this.T=o,this.w=a,this.S=u,this.Z=[]}function Pn(n,e,t){for(;e!==t;)e.w||yn("Expected null or instance of "+t.name+", got an instance of "+e.name),n=e.w(n),e=e.i;return n}function Sn(n,e){return null===e?(this.G&&yn("null is not a valid "+this.name),0):(e.a||yn('Cannot pass "'+zn(e)+'" as a '+this.name),e.a.c||yn("Cannot pass deleted object as a pointer of type "+this.name),Pn(e.a.c,e.a.f.b,this.b))}function En(n,e){if(null===e){if(this.G&&yn("null is not a valid "+this.name),this.D){var t=this.$();return null!==n&&n.push(this.o,t),t}return 0}if(e.a||yn('Cannot pass "'+zn(e)+'" as a '+this.name),e.a.c||yn("Cannot pass deleted object as a pointer of type "+this.name),!this.C&&e.a.f.C&&yn("Cannot convert argument of type "+(e.a.h?e.a.h.name:e.a.f.name)+" to parameter type "+this.name),t=Pn(e.a.c,e.a.f.b,this.b),this.D)switch(void 0===e.a.g&&yn("Passing raw pointer to smart pointer is illegal"),this.ba){case 0:e.a.h===this?t=e.a.g:yn("Cannot convert argument of type "+(e.a.h?e.a.h.name:e.a.f.name)+" to parameter type "+this.name);break;case 1:t=e.a.g;break;case 2:if(e.a.h===this)t=e.a.g;else{var r=e.clone();t=this.aa(t,qn(function(){r.delete()})),null!==n&&n.push(this.o,t)}break;default:yn("Unsupporting sharing policy")}return t}function jn(n,e){return null===e?(this.G&&yn("null is not a valid "+this.name),0):(e.a||yn('Cannot pass "'+zn(e)+'" as a '+this.name),e.a.c||yn("Cannot pass deleted object as a pointer of type "+this.name),e.a.f.C&&yn("Cannot convert argument of type "+e.a.f.name+" to parameter type "+this.name),Pn(e.a.c,e.a.f.b,this.b))}function In(n){return this.fromWireType(S[n>>2])}var Bn={};function Rn(n,e){return e.f&&e.c||mn("makeClassHandle requires ptr and ptrType"),!!e.h!=!!e.g&&mn("Both smartPtrType and smartPtr must be specified"),e.count={value:1},Object.create(n,{a:{value:e}})}function Fn(n,e,t,r,i,o,a,u,s,f,c){this.name=n,this.b=e,this.G=t,this.C=r,this.D=i,this.Y=o,this.ba=a,this.M=u,this.$=s,this.aa=f,this.o=c,i||void 0!==e.i?this.toWireType=En:(this.toWireType=r?Sn:jn,this.l=null)}function Ln(n,e){if(n=an(n),void 0!==i["FUNCTION_TABLE_"+n])var t=i["FUNCTION_TABLE_"+n][e];else if("undefined"!=typeof FUNCTION_TABLE)t=FUNCTION_TABLE[e];else{void 0===(t=i.asm["dynCall_"+n])&&(void 0===(t=i.asm["dynCall_"+n.replace(/f/g,"d")])&&yn("No dynCall invoker for signature: "+n));for(var r=[],o=1;o<n.length;++o)r.push("a"+o);o="return function dynCall_"+n+"_"+e+"("+r.join(", ")+") {\n",o+="    return dynCall(rawFunction"+(r.length?", ":"")+r.join(", ")+");\n",t=new Function("dynCall","rawFunction",o+"};\n")(t,e)}return"function"!=typeof t&&yn("unknown function pointer with signature "+n+": "+e),t}var Mn=void 0;function kn(n){var e=an(n=ie(n));return oe(n),e}function Un(n,e){var t=[],r={};throw e.forEach(function n(e){r[e]||sn[e]||(fn[e]?fn[e].forEach(n):(t.push(e),r[e]=!0))}),new Mn(n+": "+t.map(kn).join([", "]))}function xn(n,e){for(var t=[],r=0;r<n;r++)t.push(P[(e>>2)+r]);return t}function Nn(n){for(;n.length;){var e=n.pop();n.pop()(e)}}var Dn=[],Gn=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function Hn(n){4<n&&0==--Gn[n].H&&(Gn[n]=void 0,Dn.push(n))}function qn(n){switch(n){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var e=Dn.length?Dn.pop():Gn.length;return Gn[e]={H:1,value:n},e}}function zn(n){if(null===n)return"null";var e=r(n);return"object"===e||"array"===e||"function"===e?n.toString():""+n}function Vn(n,e){switch(e){case 2:return function(n){return this.fromWireType(E[n>>2])};case 3:return function(n){return this.fromWireType(j[n>>3])};default:throw new TypeError("Unknown float type: "+n)}}function Kn(n,e,t){switch(e){case 0:return t?function(n){return T[n]}:function(n){return C[n]};case 1:return t?function(n){return O[n>>1]}:function(n){return W[n>>1]};case 2:return t?function(n){return P[n>>2]}:function(n){return S[n>>2]};default:throw new TypeError("Unknown integer type: "+n)}}function Xn(n){return n||yn("Cannot use deleted val. handle = "+n),Gn[n].value}function Yn(n,e){var t=sn[n];return void 0===t&&yn(e+" has unknown type "+kn(n)),t}for(var Jn={},Zn=Array(256),$n=0;256>$n;++$n)Zn[$n]=String.fromCharCode($n);on=Zn,dn=i.BindingError=pn("BindingError"),hn=i.InternalError=pn("InternalError"),Tn.prototype.isAliasOf=function(n){if(!(this instanceof Tn&&n instanceof Tn))return!1;var e=this.a.f.b,t=this.a.c,r=n.a.f.b;for(n=n.a.c;e.i;)t=e.w(t),e=e.i;for(;r.i;)n=r.w(n),r=r.i;return e===r&&t===n},Tn.prototype.clone=function(){if(this.a.c||bn(this),this.a.v)return this.a.count.value+=1,this;var n=this.a;return(n=Object.create(Object.getPrototypeOf(this),{a:{value:{count:n.count,s:n.s,v:n.v,c:n.c,f:n.f,g:n.g,h:n.h}}})).a.count.value+=1,n.a.s=!1,n},Tn.prototype.delete=function(){if(this.a.c||bn(this),this.a.s&&!this.a.v&&yn("Object already scheduled for deletion"),--this.a.count.value,0===this.a.count.value){var n=this.a;n.g?n.h.o(n.g):n.f.b.o(n.c)}this.a.v||(this.a.g=void 0,this.a.c=void 0)},Tn.prototype.isDeleted=function(){return!this.a.c},Tn.prototype.deleteLater=function(){return this.a.c||bn(this),this.a.s&&!this.a.v&&yn("Object already scheduled for deletion"),wn.push(this),1===wn.length&&gn&&gn(An),this.a.s=!0,this},Fn.prototype.U=function(n){return this.M&&(n=this.M(n)),n},Fn.prototype.K=function(n){this.o&&this.o(n)},Fn.prototype.argPackAdvance=8,Fn.prototype.readValueFromPointer=In,Fn.prototype.deleteObject=function(n){null!==n&&n.delete()},Fn.prototype.fromWireType=function(n){function e(){return this.D?Rn(this.b.u,{f:this.Y,c:t,h:this,g:n}):Rn(this.b.u,{f:this,c:n})}var t=this.U(n);if(!t)return this.K(n),null;var r=function(n,e){for(void 0===e&&yn("ptr should not be undefined");n.i;)e=n.w(e),n=n.i;return Bn[e]}(this.b,t);if(void 0!==r)return 0===r.a.count.value?(r.a.c=t,r.a.g=n,r.clone()):(r=r.clone(),this.K(n),r);if(r=this.b.T(t),!(r=Cn[r]))return e.call(this);r=this.C?r.R:r.pointerType;var i=function n(e,t,r){return t===r?e:void 0===r.i?null:null===(e=n(e,t,r.i))?null:r.S(e)}(t,this.b,r.b);return null===i?e.call(this):this.D?Rn(r.b.u,{f:r,c:i,h:this,g:n}):Rn(r.b.u,{f:r,c:i})},i.getInheritedInstanceCount=function(){return Object.keys(Bn).length},i.getLiveInheritedInstances=function(){var n,e=[];for(n in Bn)Bn.hasOwnProperty(n)&&e.push(Bn[n]);return e},i.flushPendingDeletes=An,i.setDelayFunction=function(n){gn=n,wn.length&&gn&&gn(An)},Mn=i.UnboundTypeError=pn("UnboundTypeError"),i.count_emval_handles=function(){for(var n=0,e=5;e<Gn.length;++e)void 0!==Gn[e]&&++n;return n},i.get_first_emval=function(){for(var n=5;n<Gn.length;++n)if(void 0!==Gn[n])return Gn[n];return null},L=I,B=R=_(I=I+4+15&-16),F=_(B+x),P[L>>2]=F,i.wasmTableSize=83,i.wasmMaxTableSize=83,i.N={},i.O={abort:se,enlargeMemory:function(){U()},getTotalMemory:function(){return N},abortOnCannotGrowMemory:U,___setErrNo:function(n){return i.___errno_location&&(P[i.___errno_location()>>2]=n),n},___syscall140:function(n,e){nn=e;try{var t=tn.V();en();var r=en(),i=en(),o=en();return FS.ea(t,r,o),P[i>>2]=t.position,t.W&&0===r&&0===o&&(t.W=null),0}catch(a){return"undefined"!=typeof FS&&a instanceof FS.I||se(a),-a.L}},___syscall146:function n(e,t){nn=t;try{var r=en(),i=en(),o=en();for(e=0,n.J||(n.J=[null,[],[]],n.P=function(e,t){var r=n.J[e];if(w(r),0===t||10===t){e=1===e?m:v;n:{for(var i=t=0;r[i];)++i;if(16<i-t&&r.subarray&&M)t=M.decode(r.subarray(t,i));else for(i="";;){var o=r[t++];if(!o){t=i;break n}if(128&o){var a=63&r[t++];if(192==(224&o))i+=String.fromCharCode((31&o)<<6|a);else{var u=63&r[t++];if(224==(240&o))o=(15&o)<<12|a<<6|u;else{var s=63&r[t++];if(240==(248&o))o=(7&o)<<18|a<<12|u<<6|s;else{var f=63&r[t++];o=248==(252&o)?(3&o)<<24|a<<18|u<<12|s<<6|f:(1&o)<<30|a<<24|u<<18|s<<12|f<<6|63&r[t++]}}65536>o?i+=String.fromCharCode(o):(o-=65536,i+=String.fromCharCode(55296|o>>10,56320|1023&o))}}else i+=String.fromCharCode(o)}}e(t),r.length=0}else r.push(t)}),t=0;t<o;t++){for(var a=P[i+8*t>>2],u=P[i+(8*t+4)>>2],s=0;s<u;s++)n.P(r,C[a+s]);e+=u}return e}catch(f){return"undefined"!=typeof FS&&f instanceof FS.I||se(f),-f.L}},___syscall54:function(n,e){return nn=e,0},___syscall6:function(n,e){nn=e;try{var t=tn.V();return FS.close(t),0}catch(r){return"undefined"!=typeof FS&&r instanceof FS.I||se(r),-r.L}},__embind_register_bool:function(n,e,t,r,i){var o=rn(t);_n(n,{name:e=an(e),fromWireType:function(n){return!!n},toWireType:function(n,e){return e?r:i},argPackAdvance:8,readValueFromPointer:function(n){if(1===t)var r=T;else if(2===t)r=O;else{if(4!==t)throw new TypeError("Unknown boolean type size: "+e);r=P}return this.fromWireType(r[n>>o])},l:null})},__embind_register_class:function(n,e,t,r,o,a,u,s,f,c,l,p,d){l=an(l),a=Ln(o,a),s&&(s=Ln(u,s)),c&&(c=Ln(f,c)),d=Ln(p,d);var y=cn(l);!function(n,e){i.hasOwnProperty(n)?(yn("Cannot register public name '"+n+"' twice"),On(i,n,n),i.hasOwnProperty(void 0)&&yn("Cannot register multiple overloads of a function with the same number of arguments (undefined)!"),i[n].j[void 0]=e):i[n]=e}(y,function(){Un("Cannot construct "+l+" due to unbound types",[r])}),vn([n,e,t],r?[r]:[],function(e){if(e=e[0],r)var t=e.b,o=t.u;else o=Tn.prototype;e=ln(y,function(){if(Object.getPrototypeOf(this)!==u)throw new dn("Use 'new' to construct "+l);if(void 0===f.m)throw new dn(l+" has no accessible constructor");var n=f.m[arguments.length];if(void 0===n)throw new dn("Tried to invoke ctor of "+l+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(f.m).toString()+") parameters instead!");return n.apply(this,arguments)});var u=Object.create(o,{constructor:{value:e}});e.prototype=u;var f=new Wn(l,e,u,d,t,a,s,c);t=new Fn(l,f,!0,!1,!1),o=new Fn(l+"*",f,!1,!1,!1);var p=new Fn(l+" const*",f,!1,!0,!1);return Cn[n]={pointerType:o,R:p},function(n,e){i.hasOwnProperty(n)||mn("Replacing nonexistant public symbol"),i[n]=e,i[n].A=void 0}(y,e),[t,o,p]})},__embind_register_class_constructor:function(n,e,t,r,i,o){var a=xn(e,t);i=Ln(r,i),vn([],[n],function(n){var t="constructor "+(n=n[0]).name;if(void 0===n.b.m&&(n.b.m=[]),void 0!==n.b.m[e-1])throw new dn("Cannot register multiple constructors with identical number of parameters ("+(e-1)+") for class '"+n.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return n.b.m[e-1]=function(){Un("Cannot construct "+n.name+" due to unbound types",a)},vn([],a,function(r){return n.b.m[e-1]=function(){arguments.length!==e-1&&yn(t+" called with "+arguments.length+" arguments, expected "+(e-1));var n=[],a=Array(e);a[0]=o;for(var u=1;u<e;++u)a[u]=r[u].toWireType(n,arguments[u-1]);return a=i.apply(null,a),Nn(n),r[0].fromWireType(a)},[]}),[]})},__embind_register_class_function:function(n,e,t,i,o,a,u,s){var f=xn(t,i);e=an(e),a=Ln(o,a),vn([],[n],function(n){function i(){Un("Cannot call "+o+" due to unbound types",f)}var o=(n=n[0]).name+"."+e;s&&n.b.Z.push(e);var c=n.b.u,l=c[e];return void 0===l||void 0===l.j&&l.className!==n.name&&l.A===t-2?(i.A=t-2,i.className=n.name,c[e]=i):(On(c,e,o),c[e].j[t-2]=i),vn([],f,function(i){var s=o,f=n,l=a,p=i.length;2>p&&yn("argTypes array size mismatch! Must at least get return value and 'this' types!");var d=null!==i[1]&&null!==f,y=!1;for(f=1;f<i.length;++f)if(null!==i[f]&&void 0===i[f].l){y=!0;break}var h="void"!==i[0].name,m="",v="";for(f=0;f<p-2;++f)m+=(0!==f?", ":"")+"arg"+f,v+=(0!==f?", ":"")+"arg"+f+"Wired";s="return function "+cn(s)+"("+m+") {\nif (arguments.length !== "+(p-2)+") {\nthrowBindingError('function "+s+" called with ' + arguments.length + ' arguments, expected "+(p-2)+" args!');\n}\n",y&&(s+="var destructors = [];\n");var _=y?"destructors":"null";for(m="throwBindingError invoker fn runDestructors retType classParam".split(" "),l=[yn,l,u,Nn,i[0],i[1]],d&&(s+="var thisWired = classParam.toWireType("+_+", this);\n"),f=0;f<p-2;++f)s+="var arg"+f+"Wired = argType"+f+".toWireType("+_+", arg"+f+"); // "+i[f+2].name+"\n",m.push("argType"+f),l.push(i[f+2]);if(d&&(v="thisWired"+(0<v.length?", ":"")+v),s+=(h?"var rv = ":"")+"invoker(fn"+(0<v.length?", ":"")+v+");\n",y)s+="runDestructors(destructors);\n";else for(f=d?1:2;f<i.length;++f)p=1===f?"thisWired":"arg"+(f-2)+"Wired",null!==i[f].l&&(s+=p+"_dtor("+p+"); // "+i[f].name+"\n",m.push(p+"_dtor"),l.push(i[f].l));return h&&(s+="var ret = retType.fromWireType(rv);\nreturn ret;\n"),m.push(s+"}\n"),i=function(n){var e=Function;if(!(e instanceof Function))throw new TypeError("new_ called with constructor type "+r(e)+" which is not a function");var t=ln(e.name||"unknownFunctionName",function(){});return t.prototype=e.prototype,t=new t,(n=e.apply(t,n))instanceof Object?n:t}(m).apply(null,l),void 0===c[e].j?(i.A=t-2,c[e]=i):c[e].j[t-2]=i,[]}),[]})},__embind_register_emval:function(n,e){_n(n,{name:e=an(e),fromWireType:function(n){var e=Gn[n].value;return Hn(n),e},toWireType:function(n,e){return qn(e)},argPackAdvance:8,readValueFromPointer:In,l:null})},__embind_register_float:function(n,e,t){t=rn(t),_n(n,{name:e=an(e),fromWireType:function(n){return n},toWireType:function(n,e){if("number"!=typeof e&&"boolean"!=typeof e)throw new TypeError('Cannot convert "'+zn(e)+'" to '+this.name);return e},argPackAdvance:8,readValueFromPointer:Vn(e,t),l:null})},__embind_register_integer:function(n,e,t,r,i){function o(n){return n}e=an(e),-1===i&&(i=4294967295);var a=rn(t);if(0===r){var u=32-8*t;o=function(n){return n<<u>>>u}}var s=-1!=e.indexOf("unsigned");_n(n,{name:e,fromWireType:o,toWireType:function(n,t){if("number"!=typeof t&&"boolean"!=typeof t)throw new TypeError('Cannot convert "'+zn(t)+'" to '+this.name);if(t<r||t>i)throw new TypeError('Passing a number "'+zn(t)+'" from JS side to C/C++ side to an argument of type "'+e+'", which is outside the valid range ['+r+", "+i+"]!");return s?t>>>0:0|t},argPackAdvance:8,readValueFromPointer:Kn(e,a,0!==r),l:null})},__embind_register_memory_view:function(n,e,t){function r(n){n>>=2;var e=S;return new i(e.buffer,e[n+1],e[n])}var i=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][e];_n(n,{name:t=an(t),fromWireType:r,argPackAdvance:8,readValueFromPointer:r},{X:!0})},__embind_register_std_string:function(n,e){_n(n,{name:e=an(e),fromWireType:function(n){for(var e=S[n>>2],t=Array(e),r=0;r<e;++r)t[r]=String.fromCharCode(C[n+4+r]);return oe(n),t.join("")},toWireType:function(n,e){function t(n,e){return n[e]}var r;e instanceof ArrayBuffer&&(e=new Uint8Array(e)),e instanceof Uint8Array?r=t:e instanceof Uint8ClampedArray?r=t:e instanceof Int8Array?r=t:"string"==typeof e?r=function(n,e){return n.charCodeAt(e)}:yn("Cannot pass non-string to std::string");var i=e.length,o=ae(4+i);S[o>>2]=i;for(var a=0;a<i;++a){var u=r(e,a);255<u&&(oe(o),yn("String has UTF-16 code units that do not fit in 8 bits")),C[o+4+a]=u}return null!==n&&n.push(oe,o),o},argPackAdvance:8,readValueFromPointer:In,l:function(n){oe(n)}})},__embind_register_std_wstring:function(n,e,t){if(t=an(t),2===e)var r=function(){return W},i=1;else 4===e&&(r=function(){return S},i=2);_n(n,{name:t,fromWireType:function(n){for(var e=r(),t=S[n>>2],o=Array(t),a=n+4>>i,u=0;u<t;++u)o[u]=String.fromCharCode(e[a+u]);return oe(n),o.join("")},toWireType:function(n,t){var o=r(),a=t.length,u=ae(4+a*e);S[u>>2]=a;for(var s=u+4>>i,f=0;f<a;++f)o[s+f]=t.charCodeAt(f);return null!==n&&n.push(oe,u),u},argPackAdvance:8,readValueFromPointer:In,l:function(n){oe(n)}})},__embind_register_void:function(n,e){_n(n,{da:!0,name:e=an(e),argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},__emval_as:function(n,e,t){n=Xn(n),e=Yn(e,"emval::as");var r=[],i=qn(r);return P[t>>2]=i,e.toWireType(r,n)},__emval_decref:Hn,__emval_get_property:function(n,e){return qn((n=Xn(n))[e=Xn(e)])},__emval_incref:function(n){4<n&&(Gn[n].H+=1)},__emval_new_array:function(){return qn([])},__emval_new_cstring:function(n){var e=Jn[n];return qn(void 0===e?an(n):e)},__emval_new_object:function(){return qn({})},__emval_run_destructors:function(n){Nn(Gn[n].value),Hn(n)},__emval_set_property:function(n,e,t){n=Xn(n),e=Xn(e),t=Xn(t),n[e]=t},__emval_take_value:function(n,e){return qn(n=(n=Yn(n,"_emval_take_value")).readValueFromPointer(e))},_abort:function(){i.abort()},_emscripten_memcpy_big:function(n,e,t){return C.set(C.subarray(e,e+t),n),n},_llvm_cos_f32:X,_llvm_log10_f32:function(n){return Math.log(n)/Math.LN10},_llvm_sin_f32:Y,DYNAMICTOP_PTR:L,STACKTOP:R};var Qn=i.asm(i.N,i.O,A);i.asm=Qn;var ne=i.__GLOBAL__sub_I_bind_cpp=function(){return i.asm.__GLOBAL__sub_I_bind_cpp.apply(null,arguments)},ee=i.__GLOBAL__sub_I_fft_cc=function(){return i.asm.__GLOBAL__sub_I_fft_cc.apply(null,arguments)},te=i.__GLOBAL__sub_I_pitch_cc=function(){return i.asm.__GLOBAL__sub_I_pitch_cc.apply(null,arguments)},re=i.__GLOBAL__sub_I_tempo_cc=function(){return i.asm.__GLOBAL__sub_I_tempo_cc.apply(null,arguments)},ie=i.___getTypeName=function(){return i.asm.___getTypeName.apply(null,arguments)},oe=i._free=function(){return i.asm._free.apply(null,arguments)},ae=i._malloc=function(){return i.asm._malloc.apply(null,arguments)};function ue(){function n(){if(!i.calledRun&&(i.calledRun=!0,!g)){if(V||(V=!0,D(H)),D(q),i.onRuntimeInitialized&&i.onRuntimeInitialized(),i.postRun)for("function"==typeof i.postRun&&(i.postRun=[i.postRun]);i.postRun.length;){var n=i.postRun.shift();z.unshift(n)}D(z)}}if(!(0<J)){if(i.preRun)for("function"==typeof i.preRun&&(i.preRun=[i.preRun]);i.preRun.length;)K();D(G),0<J||i.calledRun||(i.setStatus?(i.setStatus("Running..."),setTimeout(function(){setTimeout(function(){i.setStatus("")},1),n()},1)):n())}}function se(n){throw i.onAbort&&i.onAbort(n),void 0!==n?(m(n),v(n),n=JSON.stringify(n)):n="",g=!0,"abort("+n+"). Build with -s ASSERTIONS=1 for more info."}if(i.dynCall_ffii=function(){return i.asm.dynCall_ffii.apply(null,arguments)},i.dynCall_fi=function(){return i.asm.dynCall_fi.apply(null,arguments)},i.dynCall_fii=function(){return i.asm.dynCall_fii.apply(null,arguments)},i.dynCall_fiii=function(){return i.asm.dynCall_fiii.apply(null,arguments)},i.dynCall_ii=function(){return i.asm.dynCall_ii.apply(null,arguments)},i.dynCall_iii=function(){return i.asm.dynCall_iii.apply(null,arguments)},i.dynCall_iiii=function(){return i.asm.dynCall_iiii.apply(null,arguments)},i.dynCall_iiiii=function(){return i.asm.dynCall_iiiii.apply(null,arguments)},i.dynCall_iiiiii=function(){return i.asm.dynCall_iiiiii.apply(null,arguments)},i.dynCall_v=function(){return i.asm.dynCall_v.apply(null,arguments)},i.dynCall_vi=function(){return i.asm.dynCall_vi.apply(null,arguments)},i.dynCall_viii=function(){return i.asm.dynCall_viii.apply(null,arguments)},i.asm=Qn,i.then=function(n){if(i.calledRun)n(i);else{var e=i.onRuntimeInitialized;i.onRuntimeInitialized=function(){e&&e(),n(i)}}return i},$=function n(){i.calledRun||ue(),i.calledRun||($=n)},i.run=ue,i.abort=se,i.preInit)for("function"==typeof i.preInit&&(i.preInit=[i.preInit]);0<i.preInit.length;)i.preInit.pop()();return i.noExitRuntime=!0,ue(),n};i=i.bind({_currentScript:"undefined"!=typeof document?document.currentScript:void 0}),"object"===("undefined"==typeof exports?"undefined":r(exports))&&"object"===("undefined"==typeof module?"undefined":r(module))?module.exports=i:"function"==typeof n&&n.amd?n([],function(){return i}):"object"===("undefined"==typeof exports?"undefined":r(exports))&&(exports.Aubio=i);
},{"fs":"rDCW","path":"UUq2","process":"pBGv"}],"jVIE":[function(require,module,exports) {
"use strict";var t=e(require("./aubio.js"));function e(t){return t&&t.__esModule?t:{default:t}}var i=function(t){this.bufferSize=4096,this.initGetUserMedia(),this.onFrequencyDetected=null};i.prototype.initGetUserMedia=function(){if(window.AudioContext=window.AudioContext||window.webkitAudioContext,!window.AudioContext)return alert("AudioContext not supported");void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(t){var e=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return e||alert("getUserMedia is not implemented in this browser"),new Promise(function(i,o){e.call(navigator,t,i,o)})})},i.prototype.startRecord=function(){var t=this;navigator.mediaDevices.getUserMedia({audio:!0}).then(function(e){t.audioContext.createMediaStreamSource(e).connect(t.analyser),t.analyser.connect(t.scriptProcessor),t.scriptProcessor.connect(t.audioContext.destination),t.scriptProcessor.addEventListener("audioprocess",function(e){var i=t.pitchDetector.do(e.inputBuffer.getChannelData(0));t.onFrequencyDetected(i||0)})}).catch(function(t){alert(t.name+": "+t.message)})},i.prototype.init=function(){this.audioContext=new window.AudioContext,this.analyser=this.audioContext.createAnalyser(),this.scriptProcessor=this.audioContext.createScriptProcessor(this.bufferSize,1,1);var e=this;(0,t.default)().then(function(t){e.pitchDetector=new t.Pitch("default",e.bufferSize,1,e.audioContext.sampleRate),e.startRecord()})},i.prototype.play=function(t){this.oscillator||(this.oscillator=this.audioContext.createOscillator(),this.oscillator.connect(this.audioContext.destination),this.oscillator.start()),this.oscillator.frequency.value=t},i.prototype.stop=function(){this.oscillator.stop(),this.oscillator=null},module.exports={Tuner:i};
},{"./aubio.js":"Z5kN"}],"mSrY":[function(require,module,exports) {
var define;
var global = arguments[3];
var t,e=arguments[3];!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof t&&t.amd?t(["exports"],n):n((e="undefined"!=typeof globalThis?globalThis:e||self).fretboard={})}(this,function(t){"use strict";function e(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}var n="http://www.w3.org/1999/xhtml",r={svg:"http://www.w3.org/2000/svg",xhtml:n,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function o(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),r.hasOwnProperty(e)?{space:r[e],local:t}:t}function i(t){var e=o(t);return(e.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var e=this.ownerDocument,r=this.namespaceURI;return r===n&&e.documentElement.namespaceURI===n?e.createElement(t):e.createElementNS(r,t)}})(e)}function s(){}function a(t){return null==t?s:function(){return this.querySelector(t)}}function m(){return[]}function c(t){return new Array(t.length)}function u(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}u.prototype={constructor:u,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var l="$";function h(t,e,n,r,o,i){for(var s,a=0,m=e.length,c=i.length;a<c;++a)(s=e[a])?(s.__data__=i[a],r[a]=s):n[a]=new u(t,i[a]);for(;a<m;++a)(s=e[a])&&(o[a]=s)}function d(t,e,n,r,o,i,s){var a,m,c,h={},d=e.length,f=i.length,p=new Array(d);for(a=0;a<d;++a)(m=e[a])&&(p[a]=c=l+s.call(m,m.__data__,a,e),c in h?o[a]=m:h[c]=m);for(a=0;a<f;++a)(m=h[c=l+s.call(t,i[a],a,i)])?(r[a]=m,m.__data__=i[a],h[c]=null):n[a]=new u(t,i[a]);for(a=0;a<d;++a)(m=e[a])&&h[p[a]]===m&&(o[a]=m)}function f(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function p(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function P(t){return t.trim().split(/^|\s+/)}function M(t){return t.classList||new g(t)}function g(t){this._node=t,this._names=P(t.getAttribute("class")||"")}function b(t,e){for(var n=M(t),r=-1,o=e.length;++r<o;)n.add(e[r])}function y(t,e){for(var n=M(t),r=-1,o=e.length;++r<o;)n.remove(e[r])}function v(){this.textContent=""}function A(){this.innerHTML=""}function w(){this.nextSibling&&this.parentNode.appendChild(this)}function x(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function _(){return null}function j(){var t=this.parentNode;t&&t.removeChild(this)}function C(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function O(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}g.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var S={};"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(S={mouseenter:"mouseover",mouseleave:"mouseout"}));function T(t,e,n){return t=N(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function N(t,e,n){return function(r){try{t.call(this,this.__data__,e,n)}finally{}}}function E(t){return function(){var e=this.__on;if(e){for(var n,r=0,o=-1,i=e.length;r<i;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++o]=n:this.removeEventListener(n.type,n.listener,n.capture);++o?e.length=o:delete this.__on}}}function D(t,e,n){var r=S.hasOwnProperty(t.type)?T:N;return function(o,i,s){var a,m=this.__on,c=r(e,i,s);if(m)for(var u=0,l=m.length;u<l;++u)if((a=m[u]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=c,a.capture=n),void(a.value=e);this.addEventListener(t.type,c,n),a={type:t.type,name:t.name,value:e,listener:c,capture:n},m?m.push(a):this.__on=[a]}}function $(t,e,n){var r=p(t),o=r.CustomEvent;"function"==typeof o?o=new o(e,n):(o=r.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}var L=[null];function k(t,e){this._groups=t,this._parents=e}function F(t){return"string"==typeof t?new k([[document.querySelector(t)]],[document.documentElement]):new k([[t]],L)}function B(t){return t.toLowerCase()}k.prototype=function(){return new k([[document.documentElement]],L)}.prototype={constructor:k,select:function(t){"function"!=typeof t&&(t=a(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i,s,m=e[o],c=m.length,u=r[o]=new Array(c),l=0;l<c;++l)(i=m[l])&&(s=t.call(i,i.__data__,l,m))&&("__data__"in i&&(s.__data__=i.__data__),u[l]=s);return new k(r,this._parents)},selectAll:function(t){var e;"function"!=typeof t&&(t=null==(e=t)?m:function(){return this.querySelectorAll(e)});for(var n=this._groups,r=n.length,o=[],i=[],s=0;s<r;++s)for(var a,c=n[s],u=c.length,l=0;l<u;++l)(a=c[l])&&(o.push(t.call(a,a.__data__,l,c)),i.push(a));return new k(o,i)},filter:function(t){var e;"function"!=typeof t&&(e=t,t=function(){return this.matches(e)});for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i)for(var s,a=n[i],m=a.length,c=o[i]=[],u=0;u<m;++u)(s=a[u])&&t.call(s,s.__data__,u,a)&&c.push(s);return new k(o,this._parents)},data:function(t,e){if(!t)return P=new Array(this.size()),u=-1,this.each(function(t){P[++u]=t}),P;var n,r=e?d:h,o=this._parents,i=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var s=i.length,a=new Array(s),m=new Array(s),c=new Array(s),u=0;u<s;++u){var l=o[u],f=i[u],p=f.length,P=t.call(l,l&&l.__data__,u,o),M=P.length,g=m[u]=new Array(M),b=a[u]=new Array(M);r(l,f,g,b,c[u]=new Array(p),P,e);for(var y,v,A=0,w=0;A<M;++A)if(y=g[A]){for(A>=w&&(w=A+1);!(v=b[w])&&++w<M;);y._next=v||null}}return(a=new k(a,o))._enter=m,a._exit=c,a},enter:function(){return new k(this._enter||this._groups.map(c),this._parents)},exit:function(){return new k(this._exit||this._groups.map(c),this._parents)},join:function(t,e,n){var r=this.enter(),o=this,i=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(o=e(o)),null==n?i.remove():n(i),r&&o?r.merge(o).order():o},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,o=n.length,i=Math.min(r,o),s=new Array(r),a=0;a<i;++a)for(var m,c=e[a],u=n[a],l=c.length,h=s[a]=new Array(l),d=0;d<l;++d)(m=c[d]||u[d])&&(h[d]=m);for(;a<r;++a)s[a]=e[a];return new k(s,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,o=t[e],i=o.length-1,s=o[i];--i>=0;)(r=o[i])&&(s&&4^r.compareDocumentPosition(s)&&s.parentNode.insertBefore(r,s),s=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=f);for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var s,a=n[i],m=a.length,c=o[i]=new Array(m),u=0;u<m;++u)(s=a[u])&&(c[u]=s);c.sort(e)}return new k(o,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],o=0,i=r.length;o<i;++o){var s=r[o];if(s)return s}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var o,i=e[n],s=0,a=i.length;s<a;++s)(o=i[s])&&t.call(o,o.__data__,s,i);return this},attr:function(t,e){var n=o(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}:function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):function(t,e){return t.style.getPropertyValue(e)||p(t).getComputedStyle(t,null).getPropertyValue(e)}(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var n=P(t+"");if(arguments.length<2){for(var r=M(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?b:y)(this,t)}}:e?function(t){return function(){b(this,t)}}:function(t){return function(){y(this,t)}})(n,e))},text:function(t){return arguments.length?this.each(null==t?v:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?A:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(w)},lower:function(){return this.each(x)},append:function(t){var e="function"==typeof t?t:i(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:i(t),r=null==e?_:"function"==typeof e?e:a(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(j)},clone:function(t){return this.select(t?O:C)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,o,i=function(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}(t+""),s=i.length;if(!(arguments.length<2)){for(a=e?D:E,null==n&&(n=!1),r=0;r<s;++r)this.each(a(i[r],e,n));return this}var a=this.node().__on;if(a)for(var m,c=0,u=a.length;c<u;++c)for(r=0,m=a[c];r<s;++r)if((o=i[r]).type===m.type&&o.name===m.name)return m.value},dispatch:function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return $(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return $(this,t,e)}})(t,e))}};var W=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],G=/[^A-Z0-9]+/gi;function z(t,e,n){return e instanceof RegExp?t.replace(e,n):e.reduce(function(t,e){return t.replace(e,n)},t)}var R=function(){return(R=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function I(t,e){return void 0===e&&(e={}),function(t,e){void 0===e&&(e={});for(var n=e.splitRegexp,r=void 0===n?W:n,o=e.stripRegexp,i=void 0===o?G:o,s=e.transform,a=void 0===s?B:s,m=e.delimiter,c=void 0===m?" ":m,u=z(z(t,r,"$1\0$2"),i,"\0"),l=0,h=u.length;"\0"===u.charAt(l);)l++;for(;"\0"===u.charAt(h-1);)h--;return u.slice(l,h).split("\0").map(a).join(c)}(t,R({delimiter:"."},e))}var H=function(){return(H=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function q({stringWidth:t,stringIndex:e}){return"number"==typeof t?t:t[e]||1}const U=[{symbol:"##",replacement:"double-sharp"},{symbol:"bb",replacement:"double-flat"},{symbol:"#",replacement:"sharp"},{symbol:"b",replacement:"flat"}];function V(t,e){if("boolean"==typeof e)return e?null:"false";if("note"===t){for(let t=0;t<U.length;t++){const{symbol:n,replacement:r}=U[t];if(`${e}`.endsWith(n))return`${`${e}`[0]}-${r}`}return`${e}`}return`${e}`}function Z(t,e=""){return[e?`dot-${e}`:null,...Object.entries(t).map(([t,n])=>{let r;return(r=n instanceof Array?n:[n]).map(n=>(function(t,e,n){return["dot",t,(r=e,void 0===o&&(o={}),I(r,H({delimiter:"-"},o))),V(e,n)].filter(t=>!!t).join("-");var r,o})(e,t,n)).join(" ")})].filter(t=>!!t).join(" ")}function X({topPadding:t,bottomPadding:e,leftPadding:n,rightPadding:r,width:o,height:i,showFretNumbers:s,fretNumbersHeight:a}){let m=i+t+e;return s&&(m+=a),{totalWidth:o+n+r,totalHeight:m}}const Y=({event:t,stringsGroup:e,leftPadding:n,nutWidth:r,strings:o,frets:i,dots:s})=>{const{width:a,height:m}=e.node().getBoundingClientRect(),c=t.target.getBoundingClientRect(),u=t.clientX-c.left,l=t.clientY-c.top;let h=0;const d=m/(o.length-1);for(let P=0;P<o.length;P++)if(l<d*(P+1)){h=P;break}let f=-1;const p=Math.max(0,u-n)/a*100;for(let P=0;P<i.length;P++){if(p<i[P]){f=P;break}f=P}return u<n+r&&(f=0),s.find(({fret:t,string:e})=>t===f&&e===h+1)||{string:h+1,fret:f}};const J=11,K=50,Q=15,tt={line:"#666",highlight:"#ff636c",dotStroke:"#555",dotFill:"white",fretNumber:"#00000099",mutedString:"#333",dotText:"#111",barres:"#666"},et=960,nt=150,rt=20,ot=1,it=7,st={default:["E2","A2","D3","G3","B3","E4"],halfStepDown:["Eb2","Ab2","Db3","Gb3","Bb3","Eb4"],dropD:["D2","A2","D3","G3","B3","E4"],openG:["D2","G2","D3","G3","B3","D4"],DADGAD:["D2","A2","D3","G3","A3","D4"]},at=(t,e)=>Array(Math.abs(e)+1).join(t);function mt(t){return null!==t&&"object"==typeof t&&"string"==typeof t.name}function ct(t){return null!==t&&"object"==typeof t&&"number"==typeof t.step&&"number"==typeof t.alt}const ut=[0,2,4,-1,1,3,5],lt=ut.map(t=>Math.floor(7*t/12));function ht(t){const{step:e,alt:n,oct:r,dir:o=1}=t,i=ut[e]+7*n;return void 0===r?[o*i]:[o*i,o*(r-lt[e]-4*n)]}const dt=[3,0,4,1,5,2,6];function ft(t){const[e,n,r]=t,o=dt[function(t){const e=(t+1)%7;return e<0?7+e:e}(e)],i=Math.floor((e+1)/7);return void 0===n?{step:o,alt:i,dir:r}:{step:o,alt:i,oct:n+4*i+lt[o],dir:r}}const pt={empty:!0,name:"",pc:"",acc:""},Pt=new Map,Mt=t=>"CDEFGAB".charAt(t),gt=t=>t<0?at("b",-t):at("#",t),bt=t=>"b"===t[0]?-t.length:t.length;function yt(t){const e=Pt.get(t);if(e)return e;const n="string"==typeof t?function(t){const e=function(t){const e=vt.exec(t);return[e[1].toUpperCase(),e[2].replace(/x/g,"##"),e[3],e[4]]}(t);if(""===e[0]||""!==e[3])return pt;const n=e[0],r=e[1],o=e[2],i=(n.charCodeAt(0)+3)%7,s=bt(r),a=o.length?+o:void 0,m=ht({step:i,alt:s,oct:a}),c=n+r+o,u=n+r,l=(wt[i]+s+120)%12,h=void 0===a?At(wt[i]+s,12)-1188:wt[i]+s+12*(a+1),d=h>=0&&h<=127?h:null,f=void 0===a?null:440*Math.pow(2,(h-69)/12);return{empty:!1,acc:r,alt:s,chroma:l,coord:m,freq:f,height:h,letter:n,midi:d,name:c,oct:a,pc:u,step:i}}(t):ct(t)?yt(function(t){const{step:e,alt:n,oct:r}=t,o=Mt(e);if(!o)return"";const i=o+gt(n);return r||0===r?i+r:i}(t)):mt(t)?yt(t.name):pt;return Pt.set(t,n),n}const vt=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;const At=(t,e)=>(t%e+e)%e,wt=[0,2,4,5,7,9,11];const xt={empty:!0,name:"",acc:""},_t=new RegExp("^([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})|(AA|A|P|M|m|d|dd)([-+]?\\d+)$");const jt={};function Ct(t){return"string"==typeof t?jt[t]||(jt[t]=function(t){const e=function(t){const e=_t.exec(`${t}`);return null===e?["",""]:e[1]?[e[1],e[2]]:[e[4],e[3]]}(t);if(""===e[0])return xt;const n=+e[0],r=e[1],o=(Math.abs(n)-1)%7,i=St[o];if("M"===i&&"P"===r)return xt;const s="M"===i?"majorable":"perfectable",a=""+n+r,m=n<0?-1:1,c=8===n||-8===n?n:m*(o+1),u=function(t,e){return"M"===e&&"majorable"===t||"P"===e&&"perfectable"===t?0:"m"===e&&"majorable"===t?-1:/^A+$/.test(e)?e.length:/^d+$/.test(e)?-1*("perfectable"===t?e.length:e.length+1):0}(s,r),l=Math.floor((Math.abs(n)-1)/7),h=m*(Ot[o]+u+12*l),d=(m*(Ot[o]+u)%12+12)%12,f=ht({step:o,alt:u,oct:l,dir:m});return{empty:!1,name:a,num:n,q:r,step:o,alt:u,dir:m,type:s,simple:c,semitones:h,chroma:d,coord:f,oct:l}}(t)):ct(t)?Ct(function(t){const{step:e,alt:n,oct:r=0,dir:o}=t;if(!o)return"";const i=e+1+7*r,s=o<0?"-":"",a="M"===St[e]?"majorable":"perfectable";return s+i+function(t,e){return 0===e?"majorable"===t?"M":"P":-1===e&&"majorable"===t?"m":e>0?at("A",e):at("d","perfectable"===t?e:e+1)}(a,n)}(t)):mt(t)?Ct(t.name):xt}const Ot=[0,2,4,5,7,9,11],St="PMMPPMM";function Tt(t,e){const n=yt(t),r=Ct(e);if(n.empty||r.empty)return"";const o=n.coord,i=r.coord;return function(t){return yt(ft(t))}(1===o.length?[o[0]+i[0]]:[o[0]+i[0],o[1]+i[1]]).name}const Nt=yt,Et=t=>Nt(t).chroma,Dt=Tt,$t=Ct,Lt=t=>Ct(t).semitones,kt=function(t,e){const n=yt(t),r=yt(e);if(n.empty||r.empty)return"";const o=n.coord,i=r.coord,s=i[0]-o[0];return function(t){const[e,n=0]=t;return Ct(ft(7*e+12*n<0?[-e,-n,-1]:[e,n,1]))}([s,2===o.length&&2===i.length?i[1]-o[1]:-Math.floor(7*s/12)]).name};function Ft(t,e){const n=e.length,r=(t%n+n)%n;return e.slice(r,n).concat(e.slice(0,r))}const Bt={empty:!0,name:"",setNum:0,chroma:"000000000000",normalized:"000000000000",intervals:[]},Wt=t=>Number(t).toString(2),Gt=t=>parseInt(t,2),zt=/^[01]{12}$/;function Rt(t){return zt.test(t)}const It=t=>"number"==typeof t&&t>=0&&t<=4095,Ht=t=>t&&Rt(t.chroma),qt={[Bt.chroma]:Bt};function Ut(t){const e=Rt(t)?t:It(t)?Wt(t):Array.isArray(t)?function(t){if(0===t.length)return Bt.chroma;let e;const n=[0,0,0,0,0,0,0,0,0,0,0,0];for(let r=0;r<t.length;r++)(e=yt(t[r])).empty&&(e=Ct(t[r])),e.empty||(n[e.chroma]=1);return n.join("")}(t):Ht(t)?t.chroma:Bt.chroma;return qt[e]=qt[e]||function(t){const e=Gt(t),n=function(t){const e=t.split("");return e.map((t,n)=>Ft(n,e).join(""))}(t).map(Gt).filter(t=>t>=2048).sort()[0],r=Wt(n),o=Zt(t);return{empty:!1,name:"",setNum:e,chroma:t,normalized:r,intervals:o}}(e)}const Vt=["1P","2m","2M","3m","3M","4P","5d","5P","6m","6M","7m","7M"];function Zt(t){const e=[];for(let n=0;n<12;n++)"1"===t.charAt(n)&&e.push(Vt[n]);return e}let Xt=[];[["1P 3M 5P","major","M ^ "],["1P 3M 5P 7M","major seventh","maj7  ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth/ninth","6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 #4 #11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -7 m -^7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim  o"],["1P 3m 5d 7d","diminished seventh","dim7 7 o7"],["1P 3m 5d 7m","half-diminished","m7b5  -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]].forEach(([t,e,n])=>(function(t,e,n){const r=function(t){const e=e=>-1!==t.indexOf(e);return e("5A")?"Augmented":e("3M")?"Major":e("5d")?"Diminished":e("3m")?"Minor":"Unknown"}(t),o={...Ut(t),name:n||"",quality:r,intervals:t,aliases:e};Xt.push(o),o.aliases.forEach(t=>void 0)})(t.split(" "),n.split(" "),e)),Xt.sort((t,e)=>t.setNum-e.setNum);const Yt={...Bt,intervals:[],aliases:[]};let Jt={};function Kt(t,e,n=[]){const r={...Ut(t),name:e,intervals:t,aliases:n};return Jt[r.name]=r,Jt[r.setNum]=r,Jt[r.chroma]=r,r.aliases.forEach(t=>(function(t,e){Jt[e]=t})(r,t)),r}[["1P 2M 3M 5P 6M","major pentatonic","pentatonic"],["1P 3M 4P 5P 7M","ionian pentatonic"],["1P 3M 4P 5P 7m","mixolydian pentatonic","indian"],["1P 2M 4P 5P 6M","ritusen"],["1P 2M 4P 5P 7m","egyptian"],["1P 3M 4P 5d 7m","neopolitan major pentatonic"],["1P 3m 4P 5P 6m","vietnamese 1"],["1P 2m 3m 5P 6m","pelog"],["1P 2m 4P 5P 6m","kumoijoshi"],["1P 2M 3m 5P 6m","hirajoshi"],["1P 2m 4P 5d 7m","iwato"],["1P 2m 4P 5P 7m","in-sen"],["1P 3M 4A 5P 7M","lydian pentatonic","chinese"],["1P 3m 4P 6m 7m","malkos raga"],["1P 3m 4P 5d 7m","locrian pentatonic","minor seven flat five pentatonic"],["1P 3m 4P 5P 7m","minor pentatonic","vietnamese 2"],["1P 3m 4P 5P 6M","minor six pentatonic"],["1P 2M 3m 5P 6M","flat three pentatonic","kumoi"],["1P 2M 3M 5P 6m","flat six pentatonic"],["1P 2m 3M 5P 6M","scriabin"],["1P 3M 5d 6m 7m","whole tone pentatonic"],["1P 3M 4A 5A 7M","lydian #5P pentatonic"],["1P 3M 4A 5P 7m","lydian dominant pentatonic"],["1P 3m 4P 5P 7M","minor #7M pentatonic"],["1P 3m 4d 5d 7m","super locrian pentatonic"],["1P 2M 3m 4P 5P 7M","minor hexatonic"],["1P 2A 3M 5P 5A 7M","augmented"],["1P 2M 3m 3M 5P 6M","major blues"],["1P 2M 4P 5P 6M 7m","piongio"],["1P 2m 3M 4A 6M 7m","prometheus neopolitan"],["1P 2M 3M 4A 6M 7m","prometheus"],["1P 2m 3M 5d 6m 7m","mystery #1"],["1P 2m 3M 4P 5A 6M","six tone symmetric"],["1P 2M 3M 4A 5A 7m","whole tone","messiaen's mode #1"],["1P 2m 4P 4A 5P 7M","messiaen's mode #5"],["1P 3m 4P 5d 5P 7m","minor blues","blues"],["1P 2M 3M 4P 5d 6m 7m","locrian major","arabian"],["1P 2m 3M 4A 5P 6m 7M","double harmonic lydian"],["1P 2M 3m 4P 5P 6m 7M","harmonic minor"],["1P 2m 3m 4d 5d 6m 7m","altered","super locrian","diminished whole tone","pomeroy"],["1P 2M 3m 4P 5d 6m 7m","locrian #2","half-diminished","aeolian b5"],["1P 2M 3M 4P 5P 6m 7m","mixolydian b6","melodic minor fifth mode","hindu"],["1P 2M 3M 4A 5P 6M 7m","lydian dominant","lydian b7","overtone"],["1P 2M 3M 4A 5P 6M 7M","lydian"],["1P 2M 3M 4A 5A 6M 7M","lydian augmented"],["1P 2m 3m 4P 5P 6M 7m","dorian b2","phrygian #6","melodic minor second mode"],["1P 2M 3m 4P 5P 6M 7M","melodic minor"],["1P 2m 3m 4P 5d 6m 7m","locrian"],["1P 2m 3m 4d 5d 6m 7d","ultralocrian","superlocrian bb7","superlocrian diminished"],["1P 2m 3m 4P 5d 6M 7m","locrian 6","locrian natural 6","locrian sharp 6"],["1P 2A 3M 4P 5P 5A 7M","augmented heptatonic"],["1P 2M 3m 5d 5P 6M 7m","romanian minor"],["1P 2M 3m 4A 5P 6M 7m","dorian #4"],["1P 2M 3m 4A 5P 6M 7M","lydian diminished"],["1P 2m 3m 4P 5P 6m 7m","phrygian"],["1P 2M 3M 4A 5A 7m 7M","leading whole tone"],["1P 2M 3M 4A 5P 6m 7m","lydian minor"],["1P 2m 3M 4P 5P 6m 7m","phrygian dominant","spanish","phrygian major"],["1P 2m 3m 4P 5P 6m 7M","balinese"],["1P 2m 3m 4P 5P 6M 7M","neopolitan major"],["1P 2M 3m 4P 5P 6m 7m","aeolian","minor"],["1P 2M 3M 4P 5P 6m 7M","harmonic major"],["1P 2m 3M 4P 5P 6m 7M","double harmonic major","gypsy"],["1P 2M 3m 4P 5P 6M 7m","dorian"],["1P 2M 3m 4A 5P 6m 7M","hungarian minor"],["1P 2A 3M 4A 5P 6M 7m","hungarian major"],["1P 2m 3M 4P 5d 6M 7m","oriental"],["1P 2m 3m 3M 4A 5P 7m","flamenco"],["1P 2m 3m 4A 5P 6m 7M","todi raga"],["1P 2M 3M 4P 5P 6M 7m","mixolydian","dominant"],["1P 2m 3M 4P 5d 6m 7M","persian"],["1P 2M 3M 4P 5P 6M 7M","major","ionian"],["1P 2m 3M 5d 6m 7m 7M","enigmatic"],["1P 2M 3M 4P 5A 6M 7M","major augmented","major #5","ionian augmented","ionian #5"],["1P 2A 3M 4A 5P 6M 7M","lydian #9"],["1P 2m 2M 4P 4A 5P 6m 7M","messiaen's mode #4"],["1P 2m 3M 4P 4A 5P 6m 7M","purvi raga"],["1P 2m 3m 3M 4P 5P 6m 7m","spanish heptatonic"],["1P 2M 3M 4P 5P 6M 7m 7M","bebop"],["1P 2M 3m 3M 4P 5P 6M 7m","bebop minor"],["1P 2M 3M 4P 5P 5A 6M 7M","bebop major"],["1P 2m 3m 4P 5d 5P 6m 7m","bebop locrian"],["1P 2M 3m 4P 5P 6m 7m 7M","minor bebop"],["1P 2M 3m 4P 5d 6m 6M 7M","diminished","whole-half diminished"],["1P 2M 3M 4P 5d 5P 6M 7M","ichikosucho"],["1P 2M 3m 4P 5P 6m 6M 7M","minor six diminished"],["1P 2m 3m 3M 4A 5P 6M 7m","half-whole diminished","dominant diminished","messiaen's mode #2"],["1P 3m 3M 4P 5P 6M 7m 7M","kafi raga"],["1P 2M 3M 4P 4A 5A 6A 7M","messiaen's mode #6"],["1P 2M 3m 3M 4P 5d 5P 6M 7m","composite blues"],["1P 2M 3m 3M 4A 5P 6m 7m 7M","messiaen's mode #3"],["1P 2m 2M 3m 4P 4A 5P 6m 6M 7M","messiaen's mode #7"],["1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M","chromatic"]].forEach(([t,e,...n])=>Kt(t.split(" "),e,n));const Qt={empty:!0,name:"",type:"",tonic:null,setNum:NaN,chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function te(t){const e=Array.isArray(t)?t:function(t){if("string"!=typeof t)return["",""];const e=t.indexOf(" "),n=yt(t.substring(0,e));if(n.empty){const e=yt(t);return e.empty?["",t]:[e.name,""]}const r=t.substring(n.name.length+1);return[n.name,r.length?r:""]}(t),n=yt(e[0]).name,r=function(t){return Jt[t]||Yt}(e[1]);if(r.empty)return Qt;const o=r.name,i=n?r.intervals.map(t=>Tt(n,t)):[],s=n?n+" "+o:o;return{...r,name:s,type:o,tonic:n,notes:i}}const ee=[[0,2773,0,"ionian","","Maj7","major"],[1,2902,2,"dorian","m","m7"],[2,3418,4,"phrygian","m","m7"],[3,2741,-1,"lydian","","Maj7"],[4,2774,1,"mixolydian","","7"],[5,2906,3,"aeolian","m","m7","minor"],[6,3434,5,"locrian","dim","m7b5"]],ne={...Bt,name:"",alt:0,modeNum:NaN,triad:"",seventh:"",aliases:[]},re=ee.map(function(t){const[e,n,r,o,i,s,a]=t,m=a?[a]:[],c=Number(n).toString(2);return{empty:!1,intervals:Zt(c),modeNum:e,chroma:c,normalized:c,name:o,setNum:n,alt:r,triad:i,seventh:s,aliases:m}}),oe={};function ie(t){return"string"==typeof t?oe[t.toLowerCase()]||ne:t&&t.name?ie(t.name):ne}function se(t){return(e,n)=>{const r=ie(e);if(r.empty)return[];const o=Ft(r.modeNum,t),i=r.intervals.map(t=>Tt(n,t));return o.map((t,e)=>i[e]+t)}}re.forEach(t=>{oe[t.name]=t,t.aliases.forEach(e=>{oe[e]=t})});se(ee.map(t=>t[4])),se(ee.map(t=>t[5]));var ae;(ae=t.Systems||(t.Systems={})).pentatonic="pentatonic",ae.CAGED="CAGED",ae.TNPS="TNPS";const me=0,ce=5,ue="GEDCA",le=[{box:["-6-71","-34-5","71-2-","-5-6-","-2-34","-6-71"],baseChroma:Et("G#"),baseOctave:2},{box:["71-2","-5-6","2-34","6-71","34-5","71-2"],baseChroma:Et("E#"),baseOctave:2},{box:["-2-34","-6-71","34-5","71-2-","-5-6-","-2-34"],baseChroma:Et("D#"),baseOctave:3},{box:["34-5","71-2","5-6-","2-34","6-71","34-5"],baseChroma:Et("C"),baseOctave:3},{box:["-5-6-","-2-34","6-71-","34-5-","71-2-","-5-6-"],baseChroma:Et("A#"),baseOctave:2}],he=[{box:["--2-34","--6-71","-34-5-","-71-2-","4-5-6-","1-2-3-"],baseChroma:Et("E"),baseOctave:2},{box:["--34-5","--71-2","4-5-6-","1-2-3-","5-6-7-","2-34--"],baseChroma:Et("D"),baseOctave:3},{box:["-4-5-6","-1-2-3","5-6-7-","2-34--","6-71--","34-5--"],baseChroma:Et("C"),baseOctave:3},{box:["--5-6-7","--2-34-","-6-71--","-34-5--","-71-2--","4-5-6--"],baseChroma:Et("B"),baseOctave:2},{box:["--6-71","--34-5","-71-2-","4-5-6-","1-2-3-","5-6-7-"],baseChroma:Et("A"),baseOctave:2},{box:["--71-2","-4-5-6","1-2-3-","5-6-7-","2-34--","6-71--"],baseChroma:Et("G"),baseOctave:2},{box:["-1-2-3","-5-6-7","2-34--","6-71--","34-5--","71-2--"],baseChroma:Et("F"),baseOctave:2}];function de(t){const{modeNum:e}=ie(t.replace("pentatonic","").trim());return e}function fe(t){return Et("CDEFGAB".split("")[t])}function pe({root:e,mode:n=-1,system:r,box:o}){let i,s=r===t.Systems.pentatonic?ce:me;switch("string"==typeof n?s=de(n):n>-1&&(s=n),r){case t.Systems.pentatonic:i=le[function(t,e){return e===ce?t-1:t%5}(+o,s)];break;case t.Systems.CAGED:i=le[ue.indexOf(`${o}`)];break;case t.Systems.TNPS:i=he[+o-1]}if(!i)throw new Error(`Cannot find box ${o} in the ${t.Systems[r]} scale system`);const{baseChroma:a,box:m}=i;return function({root:t,box:e,modeOffset:n=0,baseChroma:r}){let o=Et(t)-r-n;for(;o<-1;)o+=12;return e.reduce((t,e,n)=>[...t,...e.split("").map((t,e)=>"-"!==t?{string:n+1,fret:e+o}:null).filter(t=>!!t)],[])}({root:e,modeOffset:fe(s),baseChroma:a,box:r===t.Systems.pentatonic?m.slice().map(t=>t.replace("4","-").replace("7","-")):m})}function Pe(t){let e=+t.slice(-1),n=t;return isNaN(e)?e=2:n=t.slice(0,-1),{octave:e,note:n}}function Me({root:t,note:e,octave:n,baseOctave:r}){const o=Et(e)||0;return(Et(t)||0)>o?n-1-r:n-r}class ge{constructor(t){this.tuning=st.default,this.fretCount=Q,Object.assign(this,t);const{note:e,octave:n}=Pe(this.tuning[0]);this.baseNote=e,this.baseOctave=n,this.populate()}getTuning(){return this.tuning}getFretCount(){return this.fretCount}getScale({type:t="major",root:n="C",box:r}){const{baseOctave:o}=this,{note:i}=Pe(n),s=`${i} ${t}`,{notes:a,empty:m,intervals:c}=te(s);if(m)throw new Error(`Cannot find scale: ${s}`);const u=de(t),l=r?this.adjustOctave(pe(Object.assign({root:i,mode:u},r)),n):[],h=a.map((t,e)=>({chroma:Et(t),note:t,interval:c[e],degree:+c[e][0]}));return this.positions.filter(({chroma:t})=>h.find(e=>e.chroma===t)).map(t=>{var{chroma:n}=t,r=e(t,["chroma"]);return Object.assign(Object.assign({},h.find(t=>t.chroma===n)),r)}).map(t=>{const e=this.getOctave(t),n=Object.assign({octave:e,octaveInScale:Me(Object.assign({root:i,octave:e,baseOctave:o},t))},t);return l.length&&function({fret:t,string:e},n){return!!n.find(n=>n.fret===t&&n.string===e)}(t,l)&&(n.inBox=!0),n})}adjustOctave(t,e){const{tuning:n}=this,r=Lt(kt(n[0],e))>=12,o=t.filter(t=>t.fret<0).length>0;return t.map(({string:t,fret:e})=>({string:t,fret:r||o?e+12:e}))}populate(){const{tuning:t,fretCount:e}=this;this.positions=t.slice().reverse().reduce((t,n,r)=>{const o=r+1,{chroma:i}=Nt(n);return[...t,...Array.from({length:e+1},(t,e)=>({string:o,fret:e,chroma:(i+e)%12}))]},[])}getOctave({fret:t,string:e,chroma:n,note:r}){const{tuning:o}=this,i=o[o.length-e],{note:s,octave:a}=Pe(i);let m=n<Et(s)?1:0;return"B#"===r&&m>0?m--:"Cb"===r&&0===m&&m++,a+(m+=Math.floor(t/12))}}const be={el:"#fretboard",tuning:st.default,stringCount:6,stringWidth:ot,stringColor:tt.line,fretCount:Q,fretWidth:ot,fretColor:tt.line,nutWidth:it,nutColor:tt.line,middleFretColor:tt.highlight,middleFretWidth:3*ot,scaleFrets:!0,crop:!1,fretLeftPadding:0,topPadding:rt,bottomPadding:.75*rt,leftPadding:rt,rightPadding:rt,height:nt,width:et,dotSize:rt,dotStrokeColor:tt.dotStroke,dotStrokeWidth:2*ot,dotTextSize:12,dotFill:tt.dotFill,dotText:()=>"",disabledOpacity:.9,showFretNumbers:!0,fretNumbersHeight:2*rt,fretNumbersMargin:rt,fretNumbersColor:tt.line,font:"Arial",barresColor:tt.barres},ye={strings:[],width:15,strokeWidth:5,stroke:tt.mutedString};function ve({fret:t,string:e,frets:n,strings:r}){let o=0;return{x:o=0===t?n[0]/2:n[t]-(n[t]-n[t-1])/2,y:r[e-1]}}var Ae,we;(Ae=t.TetrachordTypes||(t.TetrachordTypes={})).Major="Major",Ae.Minor="Minor",Ae.Phrygian="Phrygian",Ae.Harmonic="Harmonic",Ae.Lydian="Lydian",(we=t.TetrachordLayouts||(t.TetrachordLayouts={}))[we.Linear=0]="Linear",we[we.ThreePlusOne=1]="ThreePlusOne",we[we.TwoPlusTwo=2]="TwoPlusTwo",we[we.OnePlusThree=3]="OnePlusThree";const xe={[t.TetrachordTypes.Major]:["M2","M2","m2"],[t.TetrachordTypes.Minor]:["M2","m2","M2"],[t.TetrachordTypes.Phrygian]:["m2","M2","M2"],[t.TetrachordTypes.Harmonic]:["m2","A2","m2"],[t.TetrachordTypes.Lydian]:["M2","M2","M2"]};function _e({box:t=[],from:e={string:6,fret:0},to:n={string:1,fret:100},action:r=(t=>t)}={}){return t.map(t=>!function({string:t,fret:r}){return!(t>e.string||t<n.string||t===e.string&&r<e.fret||t===n.string&&r>n.fret)}(t)?t:r(t))}t.Fretboard=class{constructor(t={}){this.handlers={},this.dots=[],this.options=Object.assign({},be,t),function(t){const{stringCount:e,tuning:n}=t;if(e!==n.length)throw new Error(`stringCount (${e}) and tuning size (${n.length}) do not match`)}(this.options);const{el:e,height:n,width:r,leftPadding:o,topPadding:i,stringCount:s,stringWidth:a,fretCount:m,scaleFrets:c,tuning:u}=this.options;this.strings=function({stringCount:t,stringWidth:e,height:n}){const r=[];let o=0;for(let i=0;i<t;i++){o=q({stringWidth:e,stringIndex:i});let s=n/(t-1)*i;0===i&&(s+=o/2),i===t-1&&(s-=o/2),r.push(s)}return r}({stringCount:s,height:n,stringWidth:a}),this.frets=function({scaleFrets:t,fretCount:e}){const n=Math.pow(2,1/12),r=[0];for(let o=1;o<=e;o++){let i=100/e*o;t&&(i=100-100/Math.pow(n,o)),r.push(i)}return r.map(t=>t/r[r.length-1]*100)}({fretCount:m,scaleFrets:c});const{totalWidth:l,totalHeight:h}=X(this.options);this.system=new ge({fretCount:m,tuning:u}),this.positions=function({fretCount:t,stringCount:e,frets:n,strings:r}){const o=[];for(let i=1;i<=e;i++){const e=[];for(let o=0;o<=t;o++)e.push(ve({fret:o,string:i,frets:n,strings:r}));o.push(e)}return o}(Object.assign(Object.assign({},this),this.options)),this.svg=F(e).append("div").attr("class","fretbard-html-wrapper").attr("style","position: relative").append("svg").attr("viewBox",`0 0 ${l} ${h}`),this.wrapper=this.svg.append("g").attr("class","fretboard-wrapper").attr("transform",`translate(${o}, ${i}) scale(${r/l})`)}render(){const{wrapper:t,positions:e,dots:n}=this,{font:r,dotStrokeColor:o,dotStrokeWidth:i,dotFill:s,dotSize:a,dotText:m,dotTextSize:c,disabledOpacity:u}=this.options,l=this.getDotOffset();if(this.baseRender(l),t.select(".dots").remove(),!n.length)return this;const h=t.append("g").attr("class","dots").attr("font-family",r).selectAll("g").data(n).enter().filter(({fret:t})=>t>=0).append("g").attr("class",t=>["dot",Z(t,"")].join(" ")).attr("opacity",({disabled:t})=>t?u:1);return h.append("circle").attr("class","dot-circle").attr("cx",({string:t,fret:n})=>`${e[t-1][n-l].x}%`).attr("cy",({string:t,fret:n})=>e[t-1][n-l].y).attr("r",.5*a).attr("stroke",o).attr("stroke-width",i).attr("fill",s),h.append("text").attr("class","dot-text").attr("x",({string:t,fret:n})=>`${e[t-1][n-l].x}%`).attr("y",({string:t,fret:n})=>e[t-1][n-l].y).attr("text-anchor","middle").attr("dominant-baseline","central").attr("font-size",c).text(m),this}setDots(t){return this.dots=t,this}clear(){return this.setDots([]),this.wrapper.select(".dots").remove(),this}style(t){var{filter:n=(()=>!0),text:r,fontSize:o,fontFill:i}=t,s=e(t,["filter","text","fontSize","fontFill"]);const{wrapper:a}=this,{dotTextSize:m}=this.options,c=n instanceof Function?n:t=>{const[e,r]=Object.entries(n)[0];return t[e]===r},u=a.selectAll(".dot-circle").filter(c);return Object.keys(s).forEach(t=>u.attr(t,s[t])),r&&a.selectAll(".dot-text").filter(c).text(r).attr("font-size",o||m).attr("fill",i||tt.dotText),this}muteStrings(t){const{wrapper:e,positions:n}=this,{strings:r,stroke:o,strokeWidth:i,width:s}=Object.assign(Object.assign({},ye),t);return e.append("g").attr("class","muted-strings").attr("transform",`translate(${-s/2}, ${-s/2})`).selectAll("path").data(r).enter().append("path").attr("d",t=>{const{y:e}=n[t-1][0];return[`M 0 ${e}`,`L ${s} ${e+s}`,`M ${s} ${e}`,`L 0 ${e+s}`].join(" ")}).attr("stroke",o).attr("stroke-width",i).attr("class","muted-string"),this}renderChord(t,e){const{positions:n,mutedStrings:r}=function(t){const e=[],n=[],r=t.indexOf("-")>-1?"-":"";return t.split(r).reverse().forEach((t,r)=>{"0"!==t&&("x"!==t?e.push({fret:+t,string:r+1}):n.push(r+1))}),{positions:e,mutedStrings:n}}(t);return this.setDots(n),e&&this.renderBarres([].concat(e)),this.render(),this.muteStrings({strings:r}),this}renderScale({type:t,root:e,box:n}){n&&this.options.tuning.toString()!==st.default.toString()&&console.warn("Selected scale system works for standard tuning. Wrong notes may be highlighted.");const r=this.system.getScale({type:t,root:e,box:n});return this.setDots(r).render()}renderBox({type:t,root:e,box:n}){this.options.tuning.toString()!==st.default.toString()&&console.warn("Selected scale system works for standard tuning. Wrong notes may be highlighted.");const r=this.system.getScale({type:t,root:e,box:n}).filter(({inBox:t})=>t);return this.setDots(r).render()}on(t,e){const{svg:n,options:r,strings:o,frets:i,hoverDiv:s,dots:a}=this,m=n.select(".strings");return s||(this.hoverDiv=function({bottomPadding:t,showFretNumbers:e,fretNumbersHeight:n}){const r=document.createElement("div"),o=t+(e?n:0);return r.className="hoverDiv",r.style.position="absolute",r.style.top="0",r.style.bottom=`${o}px`,r.style.left="0",r.style.right="0",r}(r),n.node().parentNode.appendChild(this.hoverDiv)),this.handlers[t]?this.hoverDiv.removeEventListener(t,this.handlers[t]):(this.handlers[t]=function(t,e,n,r){var o,i=!1,s=0;function a(){o&&clearTimeout(o)}function m(){for(var m=arguments.length,c=new Array(m),u=0;u<m;u++)c[u]=arguments[u];var l=this,h=Date.now()-s;function d(){s=Date.now(),n.apply(l,c)}i||(r&&!o&&d(),a(),void 0===r&&h>t?d():!0!==e&&(o=setTimeout(r?function(){o=void 0}:d,void 0===r?t-h:t)))}return"boolean"!=typeof e&&(r=n,n=e,e=void 0),m.cancel=function(){a(),i=!0},m}(K,t=>e(Y(Object.assign({event:t,stringsGroup:m,strings:o,frets:i,dots:a},r)))),this.hoverDiv.addEventListener(t,this.handlers[t])),this}removeEventListeners(){const{hoverDiv:t,handlers:e}=this;return t?(Object.entries(e).map(([e,n])=>t.removeEventListener(e,n)),this):this}renderBarres(t){const{wrapper:e,strings:n,options:r,positions:o}=this,i=t.map(({fret:t,stringFrom:e,stringTo:r})=>({fret:t,stringFrom:e?Math.min(e,n.length):n.length,stringTo:r?Math.max(r,1):1})),{dotSize:s,barresColor:a}=r,m=this.getDotOffset(),c=.8*s;e.append("g").attr("class","barres").attr("transform",`translate(-${.5*c}, 0)`).selectAll("rect").data(i).enter().append("rect").attr("y",({fret:t,stringTo:e})=>o[e-1][t-m].y-.75*s).attr("x",({fret:t,stringFrom:e})=>`${o[e-1][t-m].x}%`).attr("rx",7.5).attr("width",c).attr("height",({stringFrom:t,stringTo:e})=>n[t-1]-n[e-1]+1.5*s).attr("fill",a)}baseRender(t){if(this.baseRendered)return;const{wrapper:e,frets:n,strings:r}=this,{height:o,font:i,nutColor:s,nutWidth:a,stringColor:m,stringWidth:c,fretColor:u,fretWidth:l,middleFretWidth:h,middleFretColor:d,showFretNumbers:f,fretNumbersMargin:p,fretNumbersColor:P,topPadding:M}=this.options,{totalWidth:g}=X(this.options);e.append("g").attr("class","strings").selectAll("line").data(r).enter().append("line").attr("x1",0).attr("y1",t=>t).attr("x2","100%").attr("y2",t=>t).attr("stroke",m).attr("stroke-width",(t,e)=>q({stringWidth:c,stringIndex:e})),e.append("g").attr("class","frets").selectAll("line").data(n).enter().append("line").attr("x1",t=>`${t}%`).attr("y1",1).attr("x2",t=>`${t}%`).attr("y2",o-1).attr("stroke",(t,e)=>{switch(e){case 0:return s;case J+1:return d;default:return u}}).attr("stroke-width",(t,e)=>{switch(e){case 0:return a;case J+1:return h;default:return l}}),f&&e.append("g").attr("class","fret-numbers").attr("font-family",i).attr("transform",`translate(0 ${p+M+r[r.length-1]})`).selectAll("text").data(n.slice(1)).enter().append("text").attr("text-anchor","middle").attr("x",(t,e)=>g/100*(t-(t-n[e])/2)).attr("fill",(t,e)=>e===J?d:P).text((e,n)=>`${n+1+t}`),this.baseRendered=!0}getDotOffset(){const{dots:t}=this,{crop:e,fretLeftPadding:n}=this.options;return e?Math.max(0,Math.min(...t.map(({fret:t})=>t))-1-n):0}},t.FretboardSystem=ge,t.GUITAR_TUNINGS=st,t.disableDots=function({box:t=[],from:e={string:6,fret:0},to:n={string:1,fret:100}}={}){return _e({box:t,from:e,to:n,action:t=>Object.assign({disabled:!0},t)})},t.disableStrings=function({box:t=[],strings:n=[]}){return t.map(t=>{var{string:r}=t,o=e(t,["string"]);return Object.assign({string:r,disabled:n.indexOf(r)>-1},o)})},t.sliceBox=function({box:t=[],from:e={string:6,fret:0},to:n={string:1,fret:100}}={}){const r=t.slice().sort((t,e)=>t.string>e.string?-1:t.fret>e.fret?1:-1);function o(t){return r.findIndex(({string:e,fret:n})=>e===t.string&&n===t.fret)}let i=o(e);-1===i&&(i=0);let s=o(n);return-1===s&&(s=r.length),r.slice(i,s)},t.tetrachord=function({root:e,type:n,layout:r,string:o,fret:i}={root:"E",type:t.TetrachordTypes.Major,layout:t.TetrachordLayouts.Linear,string:6,fret:0}){const s=xe[n],a=[{string:o,fret:i,note:e}];let m=0,c=e;if(r===t.TetrachordLayouts.Linear)return s.forEach(t=>{const{semitones:e}=$t(t);c=Dt(c,t),m+=e,a.push({string:o,fret:i+m,note:c})}),a;if(1===o)throw new Error("Cannot split a tetrachord over two strings if starting on the first one");let u=o;const l=(()=>{switch(r){case t.TetrachordLayouts.ThreePlusOne:return 2;case t.TetrachordLayouts.TwoPlusTwo:return 1;case t.TetrachordLayouts.OnePlusThree:return 0}})();return s.forEach((t,e)=>{const{semitones:n}=$t(t);c=Dt(c,t),e===l&&(m=2==(u-=1)?m-4:m-5);const r=i+(m+=n);if(r<0)throw new Error("Cannot use this layout from this starting fret");a.push({string:u,fret:r,note:c})}),a},Object.defineProperty(t,"__esModule",{value:!0})});
},{}],"wdbG":[function(require,module,exports) {
"use strict";var e=require("@moonwave99/fretboard.js");function r(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function t(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?r(Object(o),!0).forEach(function(r){n(e,r,o[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(o,r))})}return e}function n(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var o=function(){this.fretboard=new e.Fretboard({el:"#fretboard",fretCount:24,middleFretColor:"#666",middleFretWidth:1,width:1500,scaleFrets:"true",showFretNumbers:"false",disabledOpacity:"0.4"}),this.fretboard.render()};o.prototype.drawNote=function(e){var r=this.noteAllStringFrets(e);this.fretboard.setDots(r).render().style({fill:"green"})},o.prototype.noteAllStringFrets=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"green";return Object.entries(e.frets).map(function(e){return[parseInt(e[0])+1,e[1]]}).reduce(function(e,t){return e.push({string:t[0],fret:t[1],color:r}),e},[])},o.prototype.noteSelectedStringFret=function(e,r){return{string:e.string+1,fret:e.frets["".concat(e.string)],color:r}},o.prototype.chordStringFrets=function(e,r){var t=this;return e.map(function(e){return t.noteSelectedStringFret(e,r)})},o.prototype.drawLine=function(e,r){for(var n=[],o=function(e){return e instanceof Array},i=r;i>=r-1&&i>=0;i--){var s=e[i],c=i==r?"red":"green",l=null;l=o(s)?this.chordStringFrets(s,c):[this.noteSelectedStringFret(s,c)],n.push(l.map(function(e){return t(t({},e),{},{disabled:i<r})}))}o(e[r])||n.push(this.noteAllStringFrets(e[r],"white"));var f=n.flat().reverse();this.fretboard.setDots(f).render().style({filter:{color:"green"},fill:"green"}).style({filter:{color:"red"},fill:"red"})},module.exports={AppFretboard:o};
},{"@moonwave99/fretboard.js":"mSrY"}],"x52N":[function(require,module,exports) {
var t=function(t,r,e){this.app=t,this.currString=this.getGoodStringForNote(this.app.line[0],0,!1),this.app.cursor=0,this.app.noteAt(this.app.cursor).string=this.currString,this.callUpdate=e,this.callUpdate(),this.fretboard=r,this.fretboard.drawLine(this.app.line,this.app.cursor),this.eventListener=this.checkKey.bind(this)};t.prototype.getGoodStringForNote=function(t,r,e){if(t){if(!e&&null!==t.string)return t.string;var o=Object.keys(t.frets).map(function(t){return parseInt(t,10)}).sort();return o.includes(r)?r:(maxString=o[o.length-1],r>maxString?maxString:o[0])}},t.prototype.init=function(){window.addEventListener("keydown",this.eventListener)},t.prototype.stop=function(){window.removeEventListener("keydown",this.eventListener),this.app.cursorIndicator=null,this.callUpdate()},t.prototype.toggleChordTone=function(){this.app.toggleChord(this.app.cursor)},t.prototype.deleteCurrent=function(){console.log("deleting note at index "+this.app.cursor),this.app.deleteAt(this.app.cursor)},noteDurations=["w","h","q","8","16","32"],t.prototype.mostRecentDuration=function(){for(var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=this.app.cursor;r>=0;r--){var e=this.app.noteAt(r).duration;if(e)return t?e.replace(/d$/,""):e}return"q"},t.prototype.speedUp=function(){var t=noteDurations.indexOf(this.mostRecentDuration());t+=1,t=Math.min(t,noteDurations.length-1),this.app.setDuration(this.app.cursor,noteDurations[t])},t.prototype.slowDown=function(){var t=noteDurations.indexOf(this.mostRecentDuration());t-=1,t=Math.max(t,0),this.app.setDuration(this.app.cursor,noteDurations[t])},t.prototype.toggleDot=function(){var t=this.mostRecentDuration(!1);console.log("most recent = ".concat(t));this.app.noteAt(this.app.cursor);var r=t;r=t.endsWith("d")?t.replace(/d$/,""):"".concat(t,"d"),console.log("updating to = ".concat(r)),this.app.setDuration(this.app.cursor,r)},t.prototype.checkKey=function(t){var r,e=this.currString,o=this.app.cursor;switch(0+(t=t||window.event).keyCode){case 38:this.currString-=1;break;case 40:this.currString+=1;break;case 37:this.app.cursor-=1;break;case 39:this.app.cursor+=1;break;case 187:this.speedUp();break;case 189:this.slowDown();break;case 190:this.toggleDot();break;case 8:this.deleteCurrent();break;case 67:this.toggleChordTone();break;default:return}if(this.app.cursor=Math.min(this.app.cursor,this.app.line.length-1),this.app.cursor=Math.max(0,this.app.cursor),r=e!==this.currString,this.currString=this.getGoodStringForNote(this.app.noteAt(this.app.cursor),this.currString,r),r||this.app.cursor!==o)if(this.app.line[this.app.cursor]instanceof Array)console.log("cannot change the string of a note in chord");else{var i=this.app.noteAt(this.app.cursor);i?i.string=this.currString:console.log("deleted all notes")}this.callUpdate&&this.callUpdate(),this.fretboard.drawLine(this.app.line,this.app.cursor)},module.exports={Tabselector:t};
},{}],"Cr4R":[function(require,module,exports) {
"use strict";var t=require("./app.js"),e=require("./guitarstring.js"),r=require("./tuner.js"),i=require("./note.js"),n=require("./appfretboard.js"),o=require("./tabselector.js"),s=require("./vextabscribe.js");function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,i)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach(function(e){u(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function u(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var p=function(t){this.tuner=new r.Tuner(440),this.$rawnote=document.getElementById("rawnote"),this.$rawtab=document.getElementById("rawtab"),this.sensitivity=document.getElementById("micsensitivity").value||400,this.app=t,this.isRecording=!1,this.fretboard=new n.AppFretboard;var e=document.getElementsByClassName("editor");if(2!==e.length)throw"no unique 'editor' class found";this.minieditor=e[0],this.minieditor.style.display="none",this.writeVextabMini(),this.vextabeditor=e[1],this.tabselector=null};p.prototype.configure=function(t){this.sensitivity=document.getElementById("micsensitivity").value||400},p.prototype.startRecording=function(){this.isRecording=!0,this.start()},p.prototype.start=function(){this.currNote=null,this.currNoteStart=null,this.currNoteProcessed=!1;var t=this;this.tuner.onFrequencyDetected=function(e){var r=Date.now(),i=t.app.buildNote(e);if(!t.currNote)return t.currNote=i,void(t.currNoteStart=r);var n=r-t.currNoteStart;0!==i.standard&&t.currNote.standard==i.standard&&n>t.sensitivity&&!t.currNoteProcessed&&(t.addNote(t.currNote),t.currNoteProcessed=!0),i.standard!==t.currNote.standard&&(t.currNote=i,t.currNoteStart=r,t.currNoteProcessed=!1)},t.tuner.init(),t.frequencyData=new Uint8Array(t.tuner.analyser.frequencyBinCount)},p.prototype.addNote=function(t){this.handleNote(t),this.isRecording&&(this.app.addNote(t),this.updateUI())},p.prototype.stop=function(){this.isRecording=!1,this.tuner.onFrequencyDetected=function(t){},this.app.cursorIndicator="$.a-/bottom.$";var t=this;this.app.line.length>0&&(this.tabselector=new o.Tabselector(this.app,this.fretboard,function(){t.updateUI()}),this.tabselector.init())},p.prototype.stopEditing=function(){this.tabselector&&this.tabselector.stop()},p.prototype.handleNote=function(t){this.fretboard.drawNote(t),this.updateCurrentNoteDisplay(t)},p.prototype.updateCurrentNoteDisplay=function(t){var e="".concat(t.name).concat(t.octave," (").concat(t.frequency.toFixed(2)," Hz)");this.$rawnote.innerHTML="Current: ".concat(e)},p.prototype.writeVextabMini=function(){var t=c(c({},window.getConfig()),{},{cursor:this.app.cursor,cursorIndicator:this.app.cursorIndicator}),e=new s.VextabScribe("tabstave notation=true",t),r=this.app.editorWindowIndices(this.app.line.length,this.app.cursor,21),i=e.tab(this.app.line,r.start,r.end);if(this.minieditor.value=i,this.minieditor.dispatchEvent(new KeyboardEvent("keyup")),!this.isRecording){var n=Math.floor(100*(this.app.cursor+1)/this.app.line.length);document.getElementById("prog-bar").style.width="".concat(n,"%")}},p.prototype.writeVextab=function(){var t=this.app.vextab("tabstave notation=true");""!==t&&(this.vextabeditor.value=t,this.vextabeditor.dispatchEvent(new KeyboardEvent("keyup")))},p.prototype.updateUI=function(){this.writeVextabMini()},module.exports={ApplicationController:p};
},{"./app.js":"QdeU","./guitarstring.js":"ceGV","./tuner.js":"jVIE","./note.js":"iCqS","./appfretboard.js":"wdbG","./tabselector.js":"x52N","./vextabscribe.js":"ENTL"}],"HYSe":[function(require,module,exports) {
var n=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.numstrings=n,this.opts=t};n.prototype.tab=function(n){var t=this.opts.stafflength||75;function r(){return new Array(ns).fill("-")}ns=this.numstrings;var a=[],o=r();a.push(o);for(var e=function(){var e=n[i];e instanceof Array||(e=[e]);var c=new Array(ns).fill(null);e.forEach(function(n){n.string>=0&&n.string<ns&&(c[n.string]=n.frets["".concat(n.string)])});var l=0;for(s=0;s<c.length;s++){var u="-";null!==c[s]&&void 0!==c[s]&&(u="".concat(c[s])),c[s]=u,l<u.length&&(l=u.length)}var f=c.map(function(n){return"".concat("-".repeat(l-n.length)).concat(n)}).map(function(n){return"".concat(n,"-")});for(s=0;s<f.length;s++)o[s]+=f[s];o[0].length>=t&&(o=r(),a.push(o))},i=0;i<n.length;i++){var s;e()}return a},module.exports={Scribe:n};
},{}],"Focm":[function(require,module,exports) {
"use strict";var e=require("./js/app.js"),n=require("./js/appcontroller.js"),t=require("./js/tabselector.js"),o=require("./js/scribe.js"),r=require("./js/vextabscribe.js"),i=require("@moonwave99/fretboard.js");window.onloadBody=function(){window.openTab("btnVextab","finalvextab"),window.app=new e.Application({}),window.appcontroller=new n.ApplicationController(window.app)};var a=function(e){for(var n=Object.entries(e),t=0;t<n.length;t++){var o=n[t];document.getElementById(o[0]).disabled=!o[1]}};function d(e){document.getElementById("userInstructions").innerHTML=e}window.getConfig=function(){var e=function(e,n){return document.getElementById(e).value||n},n="",t=e("tabkey",""),o=e("tabtime","");return""!==t&&(n+="key=".concat(t)),""!==o&&(n+=" time=".concat(o)),{min:e("minFret",0),max:e("maxFret",0),vextabopts:n}},window.updateMicSensitivity=function(e){document.getElementById("micsensitivity").value=e.value,window.appcontroller.sensitivity=e.value,window.appcontroller.start()},window.startRecord=function(){d("<p>When done recording, click 'Stop'.</p>");var e=window.getConfig();window.app.configure(e),window.appcontroller.configure(e),window.appcontroller.startRecording(),a({btnStart:!1,btnStop:!0,btnFreeze:!1})},window.printRecord=function(){var e=tabselector||{currNote:"(not editing)"},n=["VEXTAB: ".concat(window.app.vextab()),"APP CURSOR: ".concat(window.app.cursor),"TABSEL CURSOR: ".concat(e.currNote),"LINE:<br /><pre>".concat(JSON.stringify(window.app.line,null,2),"</pre>")];document.getElementById("recorded").innerHTML="<br />"+n.join("<hr />")},window.addRandom=function(){var e=window.prompt("Number of notes to add:",5);e=parseInt(e,10),startRecord();for(var n=0;n<e;n++){var t=Math.floor(200*Math.random())+200,o=window.app.buildNote(t);window.appcontroller.addNote(o)}},window.stopRecord=function(){d("<p>You can edit the tab using the keyboard (see Editing).  When done editing, click 'Done'.</p>"),window.appcontroller.stop(),a({btnStop:!1,btnFreeze:!0})},window.stopEditing=function(){d("<p>Your tab is below.  Thanks for using Tabbyhack!</p>"),window.appcontroller.stopEditing(),window.renderTab();var e=document.getElementById("tabOutputDiv");e.style.display="block",e.scrollIntoView()},window.openTab=function(e,n){for(var t=document.getElementsByClassName("tabcontent"),o=0;o<t.length;o++)t[o].style.display="none";var r=document.getElementsByClassName("tablinks");for(o=0;o<r.length;o++)r[o].className=r[o].className.replace(" active","");document.getElementById(n).style.display="block",document.getElementById(e).className+=" active"},window.renderTab=function(){var e=new o.Scribe(window.app.strings.length).tab(window.app.line).map(function(e){return e.join("<br />")}).join("<br /><br /><br />");document.getElementById("tabdest").innerHTML=e,window.appcontroller.writeVextab(),a({btnCopy:!0})},window.copyTab=function(){var e=document.getElementById("tabdest"),n=document.createElement("textarea");n.value=e.innerHTML.replace(/<br>/g,"\n").replace(/<br \/>/g,"\n"),document.body.appendChild(n),n.select(),document.execCommand("Copy"),n.remove(),document.getElementById("copied").style.display="inline"};
},{"./js/app.js":"QdeU","./js/appcontroller.js":"Cr4R","./js/tabselector.js":"x52N","./js/scribe.js":"HYSe","./js/vextabscribe.js":"ENTL","@moonwave99/fretboard.js":"mSrY"}]},{},["Focm"], null)
//# sourceMappingURL=src.2772c635.js.map